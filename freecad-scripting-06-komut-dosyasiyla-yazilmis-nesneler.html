<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">
	<head>
		<link href="http://gmpg.org/xfn/11" rel="profile">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta http-equiv="content-type" content="text/html; charset=utf-8">

		<!-- Metadata -->
	<meta name="description" content="3D Modelleme, Animasyon, Render, Vektör - Raster Grafik İşleme ve Python ile Programlama konularına meraklı Açık Kaynak Hayranı bir Makine Mühendisi">
	<meta property="og:description" content="3D Modelleme, Animasyon, Render, Vektör - Raster Grafik İşleme ve Python ile Programlama konularına meraklı Açık Kaynak Hayranı bir Makine Mühendisi">
	<meta property="og:title" content="FreeCAD - Scripting 06 - Komut Dosyasıyla Yazılmış Nesneler" />
	<meta property="og:type" content="article" />
	<meta property="og:url" content="/freecad-scripting-06-komut-dosyasiyla-yazilmis-nesneler.html" />
		<meta property="og:image" content="/images/avatar.png" />

		<!-- Enable responsiveness on mobile devices-->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

		<title>mhalil - Programlama ve 3D</title>

		<!-- CSS -->
		<link href="//fonts.googleapis.com/" rel="dns-prefetch">
		<link href="//fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic|Abril+Fatface|PT+Sans:400,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet">

		<link rel="stylesheet" href="/theme/css/poole.css" />
		<link rel="stylesheet" href="/theme/css/hyde.css" />
		<link rel="stylesheet" href="/theme/css/syntax.css" />
			<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css" crossorigin="anonymous">

		<!-- Feeds -->

		<!-- Analytics -->
	</head>

	<body class="theme-base-0c">
<div class="sidebar">
	<div class="container sidebar-sticky">
		<div class="sidebar-about">

			<h1>
				<a href="/">
					<img class="profile-picture" src="/images/avatar.png">
					mhalil
				</a>
			</h1>
			<p class="lead"></p>
			<p class="lead">3D Modelleme, Animasyon, Render, Vektör - Raster Grafik İşleme ve Python ile Programlama konularına meraklı Açık Kaynak Hayranı bir Makine Mühendisi </p>
			<p></p>
		</div>
			<ul class="sidebar-nav">
					<li><a href="/archives.html">Arşiv</a></li>
					<li><a href="/categories.html">Kategoriler</a></li>
					<li><a href="/tags.html">Etiketler</a></li>
					<li><a href="/pages/blender.html">Blender</a></li>
					<li><a href="/pages/freecad.html">FreeCAD</a></li>
					<li><a href="/pages/librecad.html">LibreCAD</a></li>
					<li><a href="/pages/python.html">Python</a></li>
					<li><a href="/pages/solvespace.html">Solvespace</a></li>
			</ul>
		<nav class="sidebar-social">
					<a class="sidebar-social-item" href="https://twitter.com/AcikKaynakci" target="_blank">
						<i class="fa fa-twitter"></i>
					</a>
					<a class="sidebar-social-item" href="https://www.artstation.com/mustafahalil" target="_blank">
						<i class="fa fa-artstation"></i>
					</a>
					<a class="sidebar-social-item" href="https://github.com/mhalil" target="_blank">
						<i class="fa fa-github"></i>
					</a>
			<a class="sidebar-social-item" href="/">
				<i class="fa fa-rss"></i>
			</a>
		</nav>
			<p class="sidebar-footer">İlmin zekatı %100'dür. Bildiklerizi paylaşın.</p>
	</div>
</div>		<div class="content container">
<div class="post">
	<h1 class="post-title">FreeCAD - Scripting 06 - Komut Dosyasıyla Yazılmış Nesneler</h1>
	<span class="post-date">Cts 26 Şubat 2022</span>
	<h1>Komut Dosyasıyla Yazılmış Nesneler</h1>
<h2>Takdim</h2>
<p>Açıklamalar, ağlar ve parça nesneleri gibi standart nesne türlerinin yanı sıra, FreeCAD ayrıca <a href="https://wiki.freecadweb.org/App_FeaturePython">Python Özellikleri</a> adı verilen %100 python komut dosyasıyla oluşturulmuş parametrik nesneler oluşturmak için harika bir olanak sunar. Bu nesneler, tam 
olarak diğer herhangi bir FreeCAD nesnesi gibi davranacak ve dosya kaydetme/yükleme sırasında otomatik olarak kaydedilecek ve geri yüklenecektir.</p>
<p>Anlaşılması, bilinmesi gereken bir husus var, o da şudur: FreeCAD dosyaları hiçbir zaman gömülü kod taşımaz, bu güvenlik nedenleriyledir. 
Parametrik nesneler oluşturmak için yazdığınız Python kodu, hiçbir zaman bir dosyanın içine kaydedilmez. Bu, başka bir makinede (bilgisayarda) böyle bir nesne içeren bir dosyayı açarsanız, bu python kodu o makinede (bilgisayarda) mevcut değilse, nesnenin tamamen yeniden oluşturulmayacağı anlamına gelir. Bu tür nesneleri başkalarına 
dağıtırsanız (gönderirseniz), Python komut dosyanızı da örneğin bir <a href="https://wiki.freecadweb.org/Macros">Makro</a> olarak dağıtmanız, göndermeniz gerekir.</p>
<p><strong>Not:</strong> Python kodunu bir <code>App::PropertyPythonObject</code> ile <code>json</code>serileştirmeyi kullanarak bir FreeCAD dosyası içinde paketlemek (yerleştirmek) mümkündür, ancak bu kod hiçbir zaman doğrudan çalıştırılamaz ve bu nedenle buradaki amacımız için çok kullanışlı değildir.</p>
<p><a href="https://wiki.freecadweb.org/App_FeaturePython">Python Özellikleri</a>, tüm FreeCAD özellikleriyle aynı kuralı izler: <code>App</code>ve <code>GUI</code>bölümlerine ayrılırlar. <code>App</code> bölümü, Belge Nesnesi, nesnemizin geometrisini tanımlarken, <code>GUI</code> bölümü, Görünüm Sağlayıcı Nesnesi, nesnenin ekranda nasıl çizileceğini tanımlar. Görünüm Sağlayıcı Nesnesi, diğer FreeCAD özellikleri gibi, yalnızca FreeCAD'i kendi GUI'sinde çalıştırdığınızda kullanılabilir. Nesnenizi oluşturmak için kullanılabilecek birkaç özellik ve yöntem vardır. Özellikler, FreeCAD'in sunduğu önceden tanımlanmış özellik türlerinden herhangi biri olmalıdır ve kullanıcı tarafından düzenlenebilmeleri için özellik görünümü penceresinde görünecektir. Bu şekilde, <code>FeaturePython</code> nesneleri gerçekten ve tamamen parametriktir. <code>Object</code> ve <code>ViewObject</code> için özellikleri ayrı ayrı tanımlayabilirsiniz.</p>
<p><strong>Basit / Temel Örnek</strong></p>
<p>Aşağıdaki örnek, diğer birkaç örnekle birlikte <a href="https://github.com/FreeCAD/FreeCAD/blob/master/src/Mod/TemplatePyMod/FeaturePython.py">src/Mod/TemplatePyMod/FeaturePython.py</a> dosyasında bulunabilir:</p>
<div class="highlight"><pre><span></span><code><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Examples for a feature class and its view provider.</span>
<span class="sd">(c) 2009 Werner Mayer LGPL</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">__author__</span> <span class="o">=</span> <span class="s2">&quot;Werner Mayer &lt;wmayer@users.sourceforge.net&gt;&quot;</span>

<span class="kn">import</span> <span class="nn">FreeCAD</span><span class="o">,</span> <span class="nn">Part</span><span class="o">,</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">FreeCAD</span> <span class="kn">import</span> <span class="n">Base</span>
<span class="kn">from</span> <span class="nn">pivy</span> <span class="kn">import</span> <span class="n">coin</span>

<span class="k">class</span> <span class="nc">PartFeature</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

<span class="k">class</span> <span class="nc">Box</span><span class="p">(</span><span class="n">PartFeature</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="n">PartFeature</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Add some custom properties to our box feature &#39;&#39;&#39;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyLength&quot;</span><span class="p">,</span><span class="s2">&quot;Length&quot;</span><span class="p">,</span><span class="s2">&quot;Box&quot;</span><span class="p">,</span><span class="s2">&quot;Length of the box&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Length</span><span class="o">=</span><span class="mf">1.0</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyLength&quot;</span><span class="p">,</span><span class="s2">&quot;Width&quot;</span><span class="p">,</span><span class="s2">&quot;Box&quot;</span><span class="p">,</span><span class="s2">&quot;Width of the box&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Width</span><span class="o">=</span><span class="mf">1.0</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyLength&quot;</span><span class="p">,</span><span class="s2">&quot;Height&quot;</span><span class="p">,</span><span class="s2">&quot;Box&quot;</span><span class="p">,</span> <span class="s2">&quot;Height of the box&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Height</span><span class="o">=</span><span class="mf">1.0</span>

    <span class="k">def</span> <span class="nf">onChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Print the name of the property that has changed &#39;&#39;&#39;</span>
        <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Console</span><span class="o">.</span><span class="n">PrintMessage</span><span class="p">(</span><span class="s2">&quot;Change property: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">prop</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Print a short message when doing a recomputation, this method is mandatory &#39;&#39;&#39;</span>
        <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Console</span><span class="o">.</span><span class="n">PrintMessage</span><span class="p">(</span><span class="s2">&quot;Recompute Python Box feature</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">fp</span><span class="o">.</span><span class="n">Shape</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makeBox</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">Length</span><span class="p">,</span><span class="n">fp</span><span class="o">.</span><span class="n">Width</span><span class="p">,</span><span class="n">fp</span><span class="o">.</span><span class="n">Height</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">ViewProviderBox</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Set this object to the proxy object of the actual view provider &#39;&#39;&#39;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">attach</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Setup the scene sub-graph of the view provider, this method is mandatory &#39;&#39;&#39;</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">updateData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; If a property of the handled feature has changed we have the chance to handle this here &#39;&#39;&#39;</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">getDisplayModes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Return a list of display modes. &#39;&#39;&#39;</span>
        <span class="n">modes</span><span class="o">=</span><span class="p">[]</span>
        <span class="k">return</span> <span class="n">modes</span>

    <span class="k">def</span> <span class="nf">getDefaultDisplayMode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Return the name of the default display mode. It must be defined in getDisplayModes. &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="s2">&quot;Shaded&quot;</span>

    <span class="k">def</span> <span class="nf">setDisplayMode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">mode</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Map the display mode defined in attach with those defined in getDisplayModes.</span>
<span class="sd">        Since they have the same names nothing needs to be done. This method is optional.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">mode</span>

    <span class="k">def</span> <span class="nf">onChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Print the name of the property that has changed &#39;&#39;&#39;</span>
        <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Console</span><span class="o">.</span><span class="n">PrintMessage</span><span class="p">(</span><span class="s2">&quot;Change property: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">prop</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">getIcon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Return the icon in XMP format which will appear in the tree view. This method is optional</span>
<span class="sd">        and if not defined a default icon is shown.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            /* XPM */</span>
<span class="s2">            static const char * ViewProviderBox_xpm[] = {</span>
<span class="s2">            &quot;16 16 6 1&quot;,</span>
<span class="s2">            &quot;     c None&quot;,</span>
<span class="s2">            &quot;.    c #141010&quot;,</span>
<span class="s2">            &quot;+    c #615BD2&quot;,</span>
<span class="s2">            &quot;@    c #C39D55&quot;,</span>
<span class="s2">            &quot;#    c #000000&quot;,</span>
<span class="s2">            &quot;$    c #57C355&quot;,</span>
<span class="s2">            &quot;        ........&quot;,</span>
<span class="s2">            &quot;   ......++..+..&quot;,</span>
<span class="s2">            &quot;   .@@@@.++..++.&quot;,</span>
<span class="s2">            &quot;   .@@@@.++..++.&quot;,</span>
<span class="s2">            &quot;   .@@  .++++++.&quot;,</span>
<span class="s2">            &quot;  ..@@  .++..++.&quot;,</span>
<span class="s2">            &quot;###@@@@ .++..++.&quot;,</span>
<span class="s2">            &quot;##$.@@$#.++++++.&quot;,</span>
<span class="s2">            &quot;#$#$.$$$........&quot;,</span>
<span class="s2">            &quot;#$$#######      &quot;,</span>
<span class="s2">            &quot;#$$#$$$$$#      &quot;,</span>
<span class="s2">            &quot;#$$#$$$$$#      &quot;,</span>
<span class="s2">            &quot;#$$#$$$$$#      &quot;,</span>
<span class="s2">            &quot; #$#$$$$$#      &quot;,</span>
<span class="s2">            &quot;  ##$$$$$#      &quot;,</span>
<span class="s2">            &quot;   #######      &quot;};</span>
<span class="s2">            &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; When saving the document this object gets stored using Python&#39;s cPickle module.</span>
<span class="sd">        Since we have some un-pickable here -- the Coin stuff -- we must define this method</span>
<span class="sd">        to return a tuple of all pickable objects or None.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__setstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">state</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; When restoring the pickled object from document we have the chance to set some</span>
<span class="sd">        internals here. Since no data were pickled nothing needs to be done here.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="kc">None</span>


<span class="k">def</span> <span class="nf">makeBox</span><span class="p">():</span>
    <span class="n">doc</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">newDocument</span><span class="p">()</span>
    <span class="n">a</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">&quot;Part::FeaturePython&quot;</span><span class="p">,</span><span class="s2">&quot;Box&quot;</span><span class="p">)</span>
    <span class="n">Box</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">ViewProviderBox</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ViewObject</span><span class="p">)</span>
    <span class="n">doc</span><span class="o">.</span><span class="n">recompute</span><span class="p">()</span>

<span class="c1"># -----------------------------------------------------------------------------</span>

<span class="k">class</span> <span class="nc">Line</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Add two point properties &#39;&#39;&#39;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyVector&quot;</span><span class="p">,</span><span class="s2">&quot;p1&quot;</span><span class="p">,</span><span class="s2">&quot;Line&quot;</span><span class="p">,</span><span class="s2">&quot;Start point&quot;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyVector&quot;</span><span class="p">,</span><span class="s2">&quot;p2&quot;</span><span class="p">,</span><span class="s2">&quot;Line&quot;</span><span class="p">,</span><span class="s2">&quot;End point&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">p2</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Print a short message when doing a recomputation, this method is mandatory &#39;&#39;&#39;</span>
        <span class="n">fp</span><span class="o">.</span><span class="n">Shape</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makeLine</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">p1</span><span class="p">,</span><span class="n">fp</span><span class="o">.</span><span class="n">p2</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">ViewProviderLine</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Set this object to the proxy object of the actual view provider &#39;&#39;&#39;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">getDefaultDisplayMode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Return the name of the default display mode. It must be defined in getDisplayModes. &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="s2">&quot;Flat Lines&quot;</span>

<span class="k">def</span> <span class="nf">makeLine</span><span class="p">():</span>
    <span class="n">doc</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">newDocument</span><span class="p">()</span>
    <span class="n">a</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">&quot;Part::FeaturePython&quot;</span><span class="p">,</span><span class="s2">&quot;Line&quot;</span><span class="p">)</span>
    <span class="n">Line</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="c1">#ViewProviderLine(a.ViewObject)</span>
    <span class="n">a</span><span class="o">.</span><span class="n">ViewObject</span><span class="o">.</span><span class="n">Proxy</span><span class="o">=</span><span class="mi">0</span> <span class="c1"># just set it to something different from None</span>
    <span class="n">doc</span><span class="o">.</span><span class="n">recompute</span><span class="p">()</span>

<span class="c1"># -----------------------------------------------------------------------------</span>

<span class="k">class</span> <span class="nc">Octahedron</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="s2">&quot;Add some custom properties to our box feature&quot;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyLength&quot;</span><span class="p">,</span><span class="s2">&quot;Length&quot;</span><span class="p">,</span><span class="s2">&quot;Octahedron&quot;</span><span class="p">,</span><span class="s2">&quot;Length of the octahedron&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Length</span><span class="o">=</span><span class="mf">1.0</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyLength&quot;</span><span class="p">,</span><span class="s2">&quot;Width&quot;</span><span class="p">,</span><span class="s2">&quot;Octahedron&quot;</span><span class="p">,</span><span class="s2">&quot;Width of the octahedron&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Width</span><span class="o">=</span><span class="mf">1.0</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyLength&quot;</span><span class="p">,</span><span class="s2">&quot;Height&quot;</span><span class="p">,</span><span class="s2">&quot;Octahedron&quot;</span><span class="p">,</span> <span class="s2">&quot;Height of the octahedron&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Height</span><span class="o">=</span><span class="mf">1.0</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;Part::PropertyPartShape&quot;</span><span class="p">,</span><span class="s2">&quot;Shape&quot;</span><span class="p">,</span><span class="s2">&quot;Octahedron&quot;</span><span class="p">,</span> <span class="s2">&quot;Shape of the octahedron&quot;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">):</span>
        <span class="c1"># Define six vetices for the shape</span>
        <span class="n">v1</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">v2</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">Length</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">v3</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">fp</span><span class="o">.</span><span class="n">Width</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">v4</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">Length</span><span class="p">,</span><span class="n">fp</span><span class="o">.</span><span class="n">Width</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">v5</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">Length</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">fp</span><span class="o">.</span><span class="n">Width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">fp</span><span class="o">.</span><span class="n">Height</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">v6</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">Length</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">fp</span><span class="o">.</span><span class="n">Width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="n">fp</span><span class="o">.</span><span class="n">Height</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>

        <span class="c1"># Make the wires/faces</span>
        <span class="n">f1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_face</span><span class="p">(</span><span class="n">v2</span><span class="p">,</span><span class="n">v1</span><span class="p">,</span><span class="n">v5</span><span class="p">)</span>
        <span class="n">f2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_face</span><span class="p">(</span><span class="n">v4</span><span class="p">,</span><span class="n">v2</span><span class="p">,</span><span class="n">v5</span><span class="p">)</span>
        <span class="n">f3</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_face</span><span class="p">(</span><span class="n">v3</span><span class="p">,</span><span class="n">v4</span><span class="p">,</span><span class="n">v5</span><span class="p">)</span>
        <span class="n">f4</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_face</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="n">v3</span><span class="p">,</span><span class="n">v5</span><span class="p">)</span>
        <span class="n">f5</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_face</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="n">v2</span><span class="p">,</span><span class="n">v6</span><span class="p">)</span>
        <span class="n">f6</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_face</span><span class="p">(</span><span class="n">v2</span><span class="p">,</span><span class="n">v4</span><span class="p">,</span><span class="n">v6</span><span class="p">)</span>
        <span class="n">f7</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_face</span><span class="p">(</span><span class="n">v4</span><span class="p">,</span><span class="n">v3</span><span class="p">,</span><span class="n">v6</span><span class="p">)</span>
        <span class="n">f8</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_face</span><span class="p">(</span><span class="n">v3</span><span class="p">,</span><span class="n">v1</span><span class="p">,</span><span class="n">v6</span><span class="p">)</span>
        <span class="n">shell</span><span class="o">=</span><span class="n">Part</span><span class="o">.</span><span class="n">makeShell</span><span class="p">([</span><span class="n">f1</span><span class="p">,</span><span class="n">f2</span><span class="p">,</span><span class="n">f3</span><span class="p">,</span><span class="n">f4</span><span class="p">,</span><span class="n">f5</span><span class="p">,</span><span class="n">f6</span><span class="p">,</span><span class="n">f7</span><span class="p">,</span><span class="n">f8</span><span class="p">])</span>
        <span class="n">solid</span><span class="o">=</span><span class="n">Part</span><span class="o">.</span><span class="n">makeSolid</span><span class="p">(</span><span class="n">shell</span><span class="p">)</span>
        <span class="n">fp</span><span class="o">.</span><span class="n">Shape</span> <span class="o">=</span> <span class="n">solid</span>
    <span class="c1"># helper method to create the faces</span>
    <span class="k">def</span> <span class="nf">make_face</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">v1</span><span class="p">,</span><span class="n">v2</span><span class="p">,</span><span class="n">v3</span><span class="p">):</span>
        <span class="n">wire</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makePolygon</span><span class="p">([</span><span class="n">v1</span><span class="p">,</span><span class="n">v2</span><span class="p">,</span><span class="n">v3</span><span class="p">,</span><span class="n">v1</span><span class="p">])</span>
        <span class="n">face</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">Face</span><span class="p">(</span><span class="n">wire</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">face</span>

<span class="k">class</span> <span class="nc">ViewProviderOctahedron</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="s2">&quot;Set this object to the proxy object of the actual view provider&quot;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyColor&quot;</span><span class="p">,</span><span class="s2">&quot;Color&quot;</span><span class="p">,</span><span class="s2">&quot;Octahedron&quot;</span><span class="p">,</span><span class="s2">&quot;Color of the octahedron&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Color</span><span class="o">=</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">attach</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="s2">&quot;Setup the scene sub-graph of the view provider, this method is mandatory&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shaded</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoGroup</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wireframe</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoGroup</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoBaseColor</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">=</span><span class="n">coin</span><span class="o">.</span><span class="n">SoCoordinate3</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">=</span><span class="n">coin</span><span class="o">.</span><span class="n">SoIndexedFaceSet</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">shaded</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shaded</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shaded</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addDisplayMode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shaded</span><span class="p">,</span><span class="s2">&quot;Shaded&quot;</span><span class="p">);</span>
        <span class="n">style</span><span class="o">=</span><span class="n">coin</span><span class="o">.</span><span class="n">SoDrawStyle</span><span class="p">()</span>
        <span class="n">style</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoDrawStyle</span><span class="o">.</span><span class="n">LINES</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wireframe</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="n">style</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wireframe</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wireframe</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wireframe</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addDisplayMode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wireframe</span><span class="p">,</span><span class="s2">&quot;Wireframe&quot;</span><span class="p">);</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">onChanged</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span><span class="s2">&quot;Color&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">updateData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
        <span class="s2">&quot;If a property of the handled feature has changed we have the chance to handle this here&quot;</span>
        <span class="c1"># fp is the handled feature, prop is the name of the property that has changed</span>
        <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;Shape&quot;</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">getPropertyByName</span><span class="p">(</span><span class="s2">&quot;Shape&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">point</span><span class="o">.</span><span class="n">setNum</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
            <span class="n">cnt</span><span class="o">=</span><span class="mi">0</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">Vertexes</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">point</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="n">cnt</span><span class="p">,</span><span class="n">i</span><span class="o">.</span><span class="n">X</span><span class="p">,</span><span class="n">i</span><span class="o">.</span><span class="n">Y</span><span class="p">,</span><span class="n">i</span><span class="o">.</span><span class="n">Z</span><span class="p">)</span>
                <span class="n">cnt</span><span class="o">=</span><span class="n">cnt</span><span class="o">+</span><span class="mi">1</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">19</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">21</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">22</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">26</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">28</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">getDisplayModes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">obj</span><span class="p">):</span>
        <span class="s2">&quot;Return a list of display modes.&quot;</span>
        <span class="n">modes</span><span class="o">=</span><span class="p">[]</span>
        <span class="n">modes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Shaded&quot;</span><span class="p">)</span>
        <span class="n">modes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Wireframe&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">modes</span>

    <span class="k">def</span> <span class="nf">getDefaultDisplayMode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s2">&quot;Return the name of the default display mode. It must be defined in getDisplayModes.&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;Shaded&quot;</span>

    <span class="k">def</span> <span class="nf">setDisplayMode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">mode</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">mode</span>

    <span class="k">def</span> <span class="nf">onChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
        <span class="s2">&quot;Here we can do something when a single property got changed&quot;</span>
        <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Console</span><span class="o">.</span><span class="n">PrintMessage</span><span class="p">(</span><span class="s2">&quot;Change property: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">prop</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;Color&quot;</span><span class="p">:</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">vp</span><span class="o">.</span><span class="n">getPropertyByName</span><span class="p">(</span><span class="s2">&quot;Color&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">rgb</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">c</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">getIcon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            /* XPM */</span>
<span class="s2">            static const char * ViewProviderBox_xpm[] = {</span>
<span class="s2">            &quot;16 16 6 1&quot;,</span>
<span class="s2">            &quot;     c None&quot;,</span>
<span class="s2">            &quot;.    c #141010&quot;,</span>
<span class="s2">            &quot;+    c #615BD2&quot;,</span>
<span class="s2">            &quot;@    c #C39D55&quot;,</span>
<span class="s2">            &quot;#    c #000000&quot;,</span>
<span class="s2">            &quot;$    c #57C355&quot;,</span>
<span class="s2">            &quot;        ........&quot;,</span>
<span class="s2">            &quot;   ......++..+..&quot;,</span>
<span class="s2">            &quot;   .@@@@.++..++.&quot;,</span>
<span class="s2">            &quot;   .@@@@.++..++.&quot;,</span>
<span class="s2">            &quot;   .@@  .++++++.&quot;,</span>
<span class="s2">            &quot;  ..@@  .++..++.&quot;,</span>
<span class="s2">            &quot;###@@@@ .++..++.&quot;,</span>
<span class="s2">            &quot;##$.@@$#.++++++.&quot;,</span>
<span class="s2">            &quot;#$#$.$$$........&quot;,</span>
<span class="s2">            &quot;#$$#######      &quot;,</span>
<span class="s2">            &quot;#$$#$$$$$#      &quot;,</span>
<span class="s2">            &quot;#$$#$$$$$#      &quot;,</span>
<span class="s2">            &quot;#$$#$$$$$#      &quot;,</span>
<span class="s2">            &quot; #$#$$$$$#      &quot;,</span>
<span class="s2">            &quot;  ##$$$$$#      &quot;,</span>
<span class="s2">            &quot;   #######      &quot;};</span>
<span class="s2">            &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__setstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">state</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>

<span class="k">def</span> <span class="nf">makeOctahedron</span><span class="p">():</span>
    <span class="n">doc</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">newDocument</span><span class="p">()</span>
    <span class="n">a</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">&quot;App::FeaturePython&quot;</span><span class="p">,</span><span class="s2">&quot;Octahedron&quot;</span><span class="p">)</span>
    <span class="n">Octahedron</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">ViewProviderOctahedron</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ViewObject</span><span class="p">)</span>
    <span class="n">doc</span><span class="o">.</span><span class="n">recompute</span><span class="p">()</span>

<span class="c1"># -----------------------------------------------------------------------------</span>

<span class="k">class</span> <span class="nc">PointFeature</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">onChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Print the name of the property that has changed &#39;&#39;&#39;</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Print a short message when doing a recomputation, this method is mandatory &#39;&#39;&#39;</span>
        <span class="k">return</span>

<span class="k">class</span> <span class="nc">ViewProviderPoints</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Set this object to the proxy object of the actual view provider &#39;&#39;&#39;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">attach</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Setup the scene sub-graph of the view provider, this method is mandatory &#39;&#39;&#39;</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">updateData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; If a property of the handled feature has changed we have the chance to handle this here &#39;&#39;&#39;</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">getDisplayModes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Return a list of display modes. &#39;&#39;&#39;</span>
        <span class="n">modes</span><span class="o">=</span><span class="p">[]</span>
        <span class="k">return</span> <span class="n">modes</span>

    <span class="k">def</span> <span class="nf">getDefaultDisplayMode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Return the name of the default display mode. It must be defined in getDisplayModes. &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="s2">&quot;Points&quot;</span>

    <span class="k">def</span> <span class="nf">setDisplayMode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">mode</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Map the display mode defined in attach with those defined in getDisplayModes.</span>
<span class="sd">        Since they have the same names nothing needs to be done. This method is optional.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">mode</span>

    <span class="k">def</span> <span class="nf">onChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Print the name of the property that has changed &#39;&#39;&#39;</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">getIcon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Return the icon in XMP format which will appear in the tree view. This method is optional</span>
<span class="sd">        and if not defined a default icon is shown.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            /* XPM */</span>
<span class="s2">            static const char * ViewProviderBox_xpm[] = {</span>
<span class="s2">            &quot;16 16 6 1&quot;,</span>
<span class="s2">            &quot;     c None&quot;,</span>
<span class="s2">            &quot;.    c #141010&quot;,</span>
<span class="s2">            &quot;+    c #615BD2&quot;,</span>
<span class="s2">            &quot;@    c #C39D55&quot;,</span>
<span class="s2">            &quot;#    c #000000&quot;,</span>
<span class="s2">            &quot;$    c #57C355&quot;,</span>
<span class="s2">            &quot;        ........&quot;,</span>
<span class="s2">            &quot;   ......++..+..&quot;,</span>
<span class="s2">            &quot;   .@@@@.++..++.&quot;,</span>
<span class="s2">            &quot;   .@@@@.++..++.&quot;,</span>
<span class="s2">            &quot;   .@@  .++++++.&quot;,</span>
<span class="s2">            &quot;  ..@@  .++..++.&quot;,</span>
<span class="s2">            &quot;###@@@@ .++..++.&quot;,</span>
<span class="s2">            &quot;##$.@@$#.++++++.&quot;,</span>
<span class="s2">            &quot;#$#$.$$$........&quot;,</span>
<span class="s2">            &quot;#$$#######      &quot;,</span>
<span class="s2">            &quot;#$$#$$$$$#      &quot;,</span>
<span class="s2">            &quot;#$$#$$$$$#      &quot;,</span>
<span class="s2">            &quot;#$$#$$$$$#      &quot;,</span>
<span class="s2">            &quot; #$#$$$$$#      &quot;,</span>
<span class="s2">            &quot;  ##$$$$$#      &quot;,</span>
<span class="s2">            &quot;   #######      &quot;};</span>
<span class="s2">            &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; When saving the document this object gets stored using Python&#39;s cPickle module.</span>
<span class="sd">        Since we have some un-pickable here -- the Coin stuff -- we must define this method</span>
<span class="sd">        to return a tuple of all pickable objects or None.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__setstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">state</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; When restoring the pickled object from document we have the chance to set some</span>
<span class="sd">        internals here. Since no data were pickled nothing needs to be done here.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="kc">None</span>


<span class="k">def</span> <span class="nf">makePoints</span><span class="p">():</span>
    <span class="n">doc</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">newDocument</span><span class="p">()</span>
    <span class="kn">import</span> <span class="nn">Mesh</span>
    <span class="n">m</span><span class="o">=</span><span class="n">Mesh</span><span class="o">.</span><span class="n">createSphere</span><span class="p">(</span><span class="mf">5.0</span><span class="p">)</span><span class="o">.</span><span class="n">Points</span>
    <span class="kn">import</span> <span class="nn">Points</span>
    <span class="n">p</span><span class="o">=</span><span class="n">Points</span><span class="o">.</span><span class="n">Points</span><span class="p">()</span>

    <span class="n">l</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">m</span><span class="p">:</span>
        <span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">Vector</span><span class="p">)</span>

    <span class="n">p</span><span class="o">.</span><span class="n">addPoints</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>


    <span class="n">a</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">&quot;Points::FeaturePython&quot;</span><span class="p">,</span><span class="s2">&quot;Points&quot;</span><span class="p">)</span>
    <span class="n">a</span><span class="o">.</span><span class="n">Points</span><span class="o">=</span><span class="n">p</span>
    <span class="n">PointFeature</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">ViewProviderPoints</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ViewObject</span><span class="p">)</span>
    <span class="n">doc</span><span class="o">.</span><span class="n">recompute</span><span class="p">()</span>

<span class="c1"># -----------------------------------------------------------------------------</span>

<span class="k">class</span> <span class="nc">MeshFeature</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">onChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Print the name of the property that has changed &#39;&#39;&#39;</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Print a short message when doing a recomputation, this method is mandatory &#39;&#39;&#39;</span>
        <span class="k">return</span>

<span class="k">class</span> <span class="nc">ViewProviderMesh</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Set this object to the proxy object of the actual view provider &#39;&#39;&#39;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">attach</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Setup the scene sub-graph of the view provider, this method is mandatory &#39;&#39;&#39;</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">getDefaultDisplayMode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Return the name of the default display mode. It must be defined in getDisplayModes. &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="s2">&quot;Shaded&quot;</span>

    <span class="k">def</span> <span class="nf">getIcon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Return the icon in XMP format which will appear in the tree view. This method is optional</span>
<span class="sd">        and if not defined a default icon is shown.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            /* XPM */</span>
<span class="s2">            static const char * ViewProviderBox_xpm[] = {</span>
<span class="s2">            &quot;16 16 6 1&quot;,</span>
<span class="s2">            &quot;     c None&quot;,</span>
<span class="s2">            &quot;.    c #141010&quot;,</span>
<span class="s2">            &quot;+    c #615BD2&quot;,</span>
<span class="s2">            &quot;@    c #C39D55&quot;,</span>
<span class="s2">            &quot;#    c #000000&quot;,</span>
<span class="s2">            &quot;$    c #57C355&quot;,</span>
<span class="s2">            &quot;        ........&quot;,</span>
<span class="s2">            &quot;   ......++..+..&quot;,</span>
<span class="s2">            &quot;   .@@@@.++..++.&quot;,</span>
<span class="s2">            &quot;   .@@@@.++..++.&quot;,</span>
<span class="s2">            &quot;   .@@  .++++++.&quot;,</span>
<span class="s2">            &quot;  ..@@  .++..++.&quot;,</span>
<span class="s2">            &quot;###@@@@ .++..++.&quot;,</span>
<span class="s2">            &quot;##$.@@$#.++++++.&quot;,</span>
<span class="s2">            &quot;#$#$.$$$........&quot;,</span>
<span class="s2">            &quot;#$$#######      &quot;,</span>
<span class="s2">            &quot;#$$#$$$$$#      &quot;,</span>
<span class="s2">            &quot;#$$#$$$$$#      &quot;,</span>
<span class="s2">            &quot;#$$#$$$$$#      &quot;,</span>
<span class="s2">            &quot; #$#$$$$$#      &quot;,</span>
<span class="s2">            &quot;  ##$$$$$#      &quot;,</span>
<span class="s2">            &quot;   #######      &quot;};</span>
<span class="s2">            &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; When saving the document this object gets stored using Python&#39;s cPickle module.</span>
<span class="sd">        Since we have some un-pickable here -- the Coin stuff -- we must define this method</span>
<span class="sd">        to return a tuple of all pickable objects or None.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__setstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">state</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; When restoring the pickled object from document we have the chance to set some</span>
<span class="sd">        internals here. Since no data were pickled nothing needs to be done here.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="kc">None</span>


<span class="k">def</span> <span class="nf">makeMesh</span><span class="p">():</span>
    <span class="n">doc</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">newDocument</span><span class="p">()</span>
    <span class="kn">import</span> <span class="nn">Mesh</span>

    <span class="n">a</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">&quot;Mesh::FeaturePython&quot;</span><span class="p">,</span><span class="s2">&quot;Mesh&quot;</span><span class="p">)</span>
    <span class="n">a</span><span class="o">.</span><span class="n">Mesh</span><span class="o">=</span><span class="n">Mesh</span><span class="o">.</span><span class="n">createSphere</span><span class="p">(</span><span class="mf">5.0</span><span class="p">)</span>
    <span class="n">MeshFeature</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">ViewProviderMesh</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ViewObject</span><span class="p">)</span>
    <span class="n">doc</span><span class="o">.</span><span class="n">recompute</span><span class="p">()</span>

<span class="c1"># -----------------------------------------------------------------------------</span>

<span class="k">class</span> <span class="nc">Molecule</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Add two point properties &#39;&#39;&#39;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyVector&quot;</span><span class="p">,</span><span class="s2">&quot;p1&quot;</span><span class="p">,</span><span class="s2">&quot;Line&quot;</span><span class="p">,</span><span class="s2">&quot;Start point&quot;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyVector&quot;</span><span class="p">,</span><span class="s2">&quot;p2&quot;</span><span class="p">,</span><span class="s2">&quot;Line&quot;</span><span class="p">,</span><span class="s2">&quot;End point&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">p2</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Print a short message when doing a recomputation, this method is mandatory &#39;&#39;&#39;</span>
        <span class="n">fp</span><span class="o">.</span><span class="n">Shape</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makeLine</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">p1</span><span class="p">,</span><span class="n">fp</span><span class="o">.</span><span class="n">p2</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">ViewProviderMolecule</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Set this object to the proxy object of the actual view provider &#39;&#39;&#39;</span>
        <span class="n">sep1</span><span class="o">=</span><span class="n">coin</span><span class="o">.</span><span class="n">SoSeparator</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trl1</span><span class="o">=</span><span class="n">coin</span><span class="o">.</span><span class="n">SoTranslation</span><span class="p">()</span>
        <span class="n">sep1</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trl1</span><span class="p">)</span>
        <span class="n">sep1</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="n">coin</span><span class="o">.</span><span class="n">SoSphere</span><span class="p">())</span>
        <span class="n">sep2</span><span class="o">=</span><span class="n">coin</span><span class="o">.</span><span class="n">SoSeparator</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trl2</span><span class="o">=</span><span class="n">coin</span><span class="o">.</span><span class="n">SoTranslation</span><span class="p">()</span>
        <span class="n">sep2</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trl2</span><span class="p">)</span>
        <span class="n">sep2</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="n">coin</span><span class="o">.</span><span class="n">SoSphere</span><span class="p">())</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">RootNode</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="n">sep1</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">RootNode</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="n">sep2</span><span class="p">)</span>
        <span class="c1"># triggers an updateData call so the assignment at the end</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">updateData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
        <span class="s2">&quot;If a property of the handled feature has changed we have the chance to handle this here&quot;</span>
        <span class="c1"># fp is the handled feature, prop is the name of the property that has changed</span>
        <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;p1&quot;</span><span class="p">:</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">getPropertyByName</span><span class="p">(</span><span class="s2">&quot;p1&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">trl1</span><span class="o">.</span><span class="n">translation</span><span class="o">=</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">x</span><span class="p">,</span><span class="n">p</span><span class="o">.</span><span class="n">y</span><span class="p">,</span><span class="n">p</span><span class="o">.</span><span class="n">z</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;p2&quot;</span><span class="p">:</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">getPropertyByName</span><span class="p">(</span><span class="s2">&quot;p2&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">trl2</span><span class="o">.</span><span class="n">translation</span><span class="o">=</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">x</span><span class="p">,</span><span class="n">p</span><span class="o">.</span><span class="n">y</span><span class="p">,</span><span class="n">p</span><span class="o">.</span><span class="n">z</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__setstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">state</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>

<span class="k">def</span> <span class="nf">makeMolecule</span><span class="p">():</span>
    <span class="n">doc</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">newDocument</span><span class="p">()</span>
    <span class="n">a</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">&quot;Part::FeaturePython&quot;</span><span class="p">,</span><span class="s2">&quot;Molecule&quot;</span><span class="p">)</span>
    <span class="n">Molecule</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">ViewProviderMolecule</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ViewObject</span><span class="p">)</span>
    <span class="n">doc</span><span class="o">.</span><span class="n">recompute</span><span class="p">()</span>

<span class="c1"># -----------------------------------------------------------------------------</span>

<span class="k">class</span> <span class="nc">CircleSet</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;Part::PropertyPartShape&quot;</span><span class="p">,</span><span class="s2">&quot;Shape&quot;</span><span class="p">,</span><span class="s2">&quot;Circle&quot;</span><span class="p">,</span><span class="s2">&quot;Shape&quot;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">):</span>
        <span class="k">pass</span>


<span class="k">class</span> <span class="nc">ViewProviderCircleSet</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Set this object to the proxy object of the actual view provider &#39;&#39;&#39;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">attach</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coords</span><span class="o">=</span><span class="n">coin</span><span class="o">.</span><span class="n">SoCoordinate3</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="o">=</span><span class="n">coin</span><span class="o">.</span><span class="n">SoLineSet</span><span class="p">()</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">RootNode</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">RootNode</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">updateData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;Shape&quot;</span><span class="p">:</span>
                <span class="n">edges</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">getPropertyByName</span><span class="p">(</span><span class="s2">&quot;Shape&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Edges</span>
                <span class="n">pts</span><span class="o">=</span><span class="p">[]</span>
                <span class="n">ver</span><span class="o">=</span><span class="p">[]</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">edges</span><span class="p">:</span>
                    <span class="n">length</span><span class="o">=</span><span class="n">i</span><span class="o">.</span><span class="n">Length</span>
                    <span class="n">ver</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
                        <span class="n">v</span><span class="o">=</span><span class="n">i</span><span class="o">.</span><span class="n">valueAt</span><span class="p">(</span><span class="n">j</span><span class="o">/</span><span class="mf">9.0</span><span class="o">*</span><span class="n">length</span><span class="p">)</span>
                        <span class="n">pts</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">v</span><span class="o">.</span><span class="n">x</span><span class="p">,</span><span class="n">v</span><span class="o">.</span><span class="n">y</span><span class="p">,</span><span class="n">v</span><span class="o">.</span><span class="n">z</span><span class="p">))</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">coords</span><span class="o">.</span><span class="n">point</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">pts</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">numVertices</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">ver</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__setstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">state</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>

<span class="k">def</span> <span class="nf">makeCircleSet</span><span class="p">():</span>
    <span class="n">x</span><span class="o">=</span><span class="mf">0.5</span>
    <span class="n">comp</span><span class="o">=</span><span class="n">Part</span><span class="o">.</span><span class="n">Compound</span><span class="p">([])</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">630</span><span class="p">):</span>
        <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">630</span><span class="p">):</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makeCircle</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">Base</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">Base</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
            <span class="c1">#Part.show(c)</span>
            <span class="n">comp</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
            <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="o">+</span><span class="mf">0.5</span>
        <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">+</span><span class="mf">0.5</span>

    <span class="n">doc</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">newDocument</span><span class="p">()</span>
    <span class="n">a</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">&quot;App::FeaturePython&quot;</span><span class="p">,</span><span class="s2">&quot;Circles&quot;</span><span class="p">)</span>
    <span class="n">CircleSet</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">ViewProviderCircleSet</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ViewObject</span><span class="p">)</span>
    <span class="n">a</span><span class="o">.</span><span class="n">Shape</span><span class="o">=</span><span class="n">comp</span>
    <span class="n">doc</span><span class="o">.</span><span class="n">recompute</span><span class="p">()</span>

<span class="c1"># -----------------------------------------------------------------------------</span>

<span class="k">class</span> <span class="nc">EnumTest</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Add enum properties &#39;&#39;&#39;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyEnumeration&quot;</span><span class="p">,</span><span class="s2">&quot;Enum&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Enumeration&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Enum</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;One&quot;</span><span class="p">,</span><span class="s2">&quot;Two&quot;</span><span class="p">,</span><span class="s2">&quot;Three&quot;</span><span class="p">]</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyEnumeration&quot;</span><span class="p">,</span><span class="s2">&quot;Enum2&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Enumeration2&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Enum2</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;One&quot;</span><span class="p">,</span><span class="s2">&quot;Two&quot;</span><span class="p">,</span><span class="s2">&quot;Three&quot;</span><span class="p">]</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">):</span>
        <span class="k">return</span>

<span class="k">class</span> <span class="nc">ViewProviderEnumTest</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Set this object to the proxy object of the actual view provider &#39;&#39;&#39;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyEnumeration&quot;</span><span class="p">,</span><span class="s2">&quot;Enum3&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Enumeration3&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Enum3</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;One&quot;</span><span class="p">,</span><span class="s2">&quot;Two&quot;</span><span class="p">,</span><span class="s2">&quot;Three&quot;</span><span class="p">]</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyEnumeration&quot;</span><span class="p">,</span><span class="s2">&quot;Enum4&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Enumeration4&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Enum4</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;One&quot;</span><span class="p">,</span><span class="s2">&quot;Two&quot;</span><span class="p">,</span><span class="s2">&quot;Three&quot;</span><span class="p">]</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">updateData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;prop updated:&quot;</span><span class="p">,</span><span class="n">prop</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__setstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">state</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>

<span class="k">def</span> <span class="nf">makeEnumTest</span><span class="p">():</span>
    <span class="n">FreeCAD</span><span class="o">.</span><span class="n">newDocument</span><span class="p">()</span>
    <span class="n">a</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">&quot;Part::FeaturePython&quot;</span><span class="p">,</span><span class="s2">&quot;Enum&quot;</span><span class="p">)</span>
    <span class="n">EnumTest</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">ViewProviderEnumTest</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ViewObject</span><span class="p">)</span>

<span class="c1"># -----------------------------------------------------------------------------</span>

<span class="k">class</span> <span class="nc">DistanceBolt</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Add the properties: Length, Edges, Radius, Height &#39;&#39;&#39;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyInteger&quot;</span><span class="p">,</span><span class="s2">&quot;Edges&quot;</span><span class="p">,</span><span class="s2">&quot;Bolt&quot;</span><span class="p">,</span><span class="s2">&quot;Number of edges of the outline&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Edges</span><span class="o">=</span><span class="mi">6</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyLength&quot;</span><span class="p">,</span><span class="s2">&quot;Length&quot;</span><span class="p">,</span><span class="s2">&quot;Bolt&quot;</span><span class="p">,</span><span class="s2">&quot;Length of the edges of the outline&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Length</span><span class="o">=</span><span class="mf">10.0</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyLength&quot;</span><span class="p">,</span><span class="s2">&quot;Radius&quot;</span><span class="p">,</span><span class="s2">&quot;Bolt&quot;</span><span class="p">,</span><span class="s2">&quot;Radius of the inner circle&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Radius</span><span class="o">=</span><span class="mf">4.0</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyLength&quot;</span><span class="p">,</span><span class="s2">&quot;Height&quot;</span><span class="p">,</span><span class="s2">&quot;Bolt&quot;</span><span class="p">,</span><span class="s2">&quot;Height of the extrusion&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Height</span><span class="o">=</span><span class="mf">20.0</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">onChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;Edges&quot;</span> <span class="ow">or</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;Length&quot;</span> <span class="ow">or</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;Radius&quot;</span> <span class="ow">or</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;Height&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">):</span>
        <span class="n">edges</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">Edges</span>
        <span class="k">if</span> <span class="n">edges</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">edges</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">length</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">Length</span>
        <span class="n">radius</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">Radius</span>
        <span class="n">height</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">Height</span>

        <span class="n">m</span><span class="o">=</span><span class="n">Base</span><span class="o">.</span><span class="n">Matrix</span><span class="p">()</span>
        <span class="n">m</span><span class="o">.</span><span class="n">rotateZ</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="mf">360.0</span><span class="o">/</span><span class="n">edges</span><span class="p">))</span>

        <span class="c1"># create polygon</span>
        <span class="n">polygon</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">v</span><span class="o">=</span><span class="n">Base</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">length</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">edges</span><span class="p">):</span>
            <span class="n">polygon</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
        <span class="n">polygon</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
        <span class="n">wire</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makePolygon</span><span class="p">(</span><span class="n">polygon</span><span class="p">)</span>

        <span class="c1"># create circle</span>
        <span class="n">circ</span><span class="o">=</span><span class="n">Part</span><span class="o">.</span><span class="n">makeCircle</span><span class="p">(</span><span class="n">radius</span><span class="p">)</span>

        <span class="c1"># Create the face with the polygon as outline and the circle as hole</span>
        <span class="n">face</span><span class="o">=</span><span class="n">Part</span><span class="o">.</span><span class="n">Face</span><span class="p">([</span><span class="n">wire</span><span class="p">,</span><span class="n">Part</span><span class="o">.</span><span class="n">Wire</span><span class="p">(</span><span class="n">circ</span><span class="p">)])</span>

        <span class="c1"># Extrude in z to create the final solid</span>
        <span class="n">extrude</span><span class="o">=</span><span class="n">face</span><span class="o">.</span><span class="n">extrude</span><span class="p">(</span><span class="n">Base</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">height</span><span class="p">))</span>
        <span class="n">fp</span><span class="o">.</span><span class="n">Shape</span> <span class="o">=</span> <span class="n">extrude</span>

<span class="k">def</span> <span class="nf">makeDistanceBolt</span><span class="p">():</span>
    <span class="n">doc</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">newDocument</span><span class="p">()</span>
    <span class="n">bolt</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">&quot;Part::FeaturePython&quot;</span><span class="p">,</span><span class="s2">&quot;Distance_Bolt&quot;</span><span class="p">)</span>
    <span class="n">bolt</span><span class="o">.</span><span class="n">Label</span> <span class="o">=</span> <span class="s2">&quot;Distance bolt&quot;</span>
    <span class="n">DistanceBolt</span><span class="p">(</span><span class="n">bolt</span><span class="p">)</span>
    <span class="n">bolt</span><span class="o">.</span><span class="n">ViewObject</span><span class="o">.</span><span class="n">Proxy</span><span class="o">=</span><span class="mi">0</span>
    <span class="n">doc</span><span class="o">.</span><span class="n">recompute</span><span class="p">()</span>
</code></pre></div>

<h2>Dikkat Edilmesi Gerekenler</h2>
<p>Nesneniz oluşturulur oluşturulmaz yeniden hesaplanması gerekiyorsa, otomatik olarak çağrılmadığı için bunu <code>__init__</code> işlevinde manuel olarak yapmanız gerekir. <code>Box</code>sınıfının <code>onChanged</code> yöntemi, <code>execute</code> (çalıştır) fonksiyonuyla aynı etkiye sahip olduğu için bu örnek buna gerek duymaz, ancak aşağıdaki örnekler, 3B görünümde herhangi bir şey görüntülenmeden önce yeniden hesaplanma mantığına dayanır. Örneklerde 
bu, <code>ActiveDocument.recompute()</code> ile manuel olarak yapılır, ancak daha karmaşık senaryolarda, tüm belgenin veya <code>FeaturePython</code> nesnesinin nerede yeniden hesaplanacağına karar vermeniz gerekir.</p>
<p>Bu örnek, <strong>rapor görünümü penceresi</strong>nde bir dizi istisna yığını izi üretir. Bunun nedeni, <code>__init__</code> içine her özellik eklendiğinde <code>Box</code> sınıfının <code>onChanged</code> yönteminin çağrılmasıdır. İlki eklendiğinde, <strong>Genişlik</strong> ve <strong>Yükseklik</strong> özellikleri henüz mevcut değildir ve bu nedenle bunlara erişme girişimi başarısız olur.</p>
<p><code>__getstate__</code> ve <code>__setstate__</code> için bir açıklama <a href="https://forum.freecadweb.org/viewtopic.php?f=18&amp;t=44009&amp;start=10#p377892">obj.Proxy.Type is a dict, not a string</a> forum başlığında bulunmaktadır.</p>
<h2>Mevcut Yöntemler / Metotlar</h2>
<p><a href="https://wiki.freecadweb.org/FeaturePython_methods" title="FeaturePython methods">PythonÖzelliği Yöntemleri</a> tüm referans kaynak için sayfaya bakın.</p>
<h2>Kullanılabilir Özellikler</h2>
<p>Özellikler, <code>FeaturePython</code> nesnelerinin gerçek yapı taşlarıdır. Bunlar aracılığıyla, kullanıcı etkileşimde bulunabilecek ve nesnenizi değiştirebilecektir. Belgenizde yeni bir <code>FeaturePython</code> nesnesi oluşturduktan sonra;</p>
<p>(<code>obj=FreeCAD.ActiveDocument.addObject("App::FeaturePython","Box")</code>), aşağıdaki kodu yazarak, kullanılabilir özelliklerin bir listesini elde edebilirsiniz:</p>
<div class="highlight"><pre><span></span><code><span class="n">obj</span><span class="o">.</span><span class="n">supportedProperties</span><span class="p">()</span>
</code></pre></div>

<p><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties">FeaturePython Özel Özellikler</a> sayfasında daha ayrıntılı olarak açıklanan mevcut özelliklerin bir listesini elde edeceksiniz:</p>
<ul>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyAcceleration" title="FeaturePython Custom Properties">App::PropertyAcceleration</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyAngle" title="FeaturePython Custom Properties">App::PropertyAngle</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyArea" title="FeaturePython Custom Properties">App::PropertyArea</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyBool" title="FeaturePython Custom Properties">App::PropertyBool</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyBoolList" title="FeaturePython Custom Properties">App::PropertyBoolList</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyColor" title="FeaturePython Custom Properties">App::PropertyColor</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyColorList" title="FeaturePython Custom Properties">App::PropertyColorList</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyDirection" title="FeaturePython Custom Properties">App::PropertyDirection</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyDistance" title="FeaturePython Custom Properties">App::PropertyDistance</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyEnumeration" title="FeaturePython Custom Properties">App::PropertyEnumeration</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyExpressionEngine" title="FeaturePython Custom Properties">App::PropertyExpressionEngine</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyFile" title="FeaturePython Custom Properties">App::PropertyFile</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyFileIncluded" title="FeaturePython Custom Properties">App::PropertyFileIncluded</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyFloat" title="FeaturePython Custom Properties">App::PropertyFloat</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyFloatConstraint" title="FeaturePython Custom Properties">App::PropertyFloatConstraint</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyFloatList" title="FeaturePython Custom Properties">App::PropertyFloatList</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyFont" title="FeaturePython Custom Properties">App::PropertyFont</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyForce" title="FeaturePython Custom Properties">App::PropertyForce</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyFrequency" title="FeaturePython Custom Properties">App::PropertyFrequency</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyInteger" title="FeaturePython Custom Properties">App::PropertyInteger</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyIntegerConstraint" title="FeaturePython Custom Properties">App::PropertyIntegerConstraint</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyIntegerList" title="FeaturePython Custom Properties">App::PropertyIntegerList</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyIntegerSet" title="FeaturePython Custom Properties">App::PropertyIntegerSet</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyLength" title="FeaturePython Custom Properties">App::PropertyLength</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyLink" title="FeaturePython Custom Properties">App::PropertyLink</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyLinkChild" title="FeaturePython Custom Properties">App::PropertyLinkChild</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyLinkGlobal" title="FeaturePython Custom Properties">App::PropertyLinkGlobal</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyLinkHidden" title="FeaturePython Custom Properties">App::PropertyLinkHidden</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyLinkList" title="FeaturePython Custom Properties">App::PropertyLinkList</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyLinkListChild" title="FeaturePython Custom Properties">App::PropertyLinkListChild</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyLinkListGlobal" title="FeaturePython Custom Properties">App::PropertyLinkListGlobal</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyLinkListHidden" title="FeaturePython Custom Properties">App::PropertyLinkListHidden</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyLinkSub" title="FeaturePython Custom Properties">App::PropertyLinkSub</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyLinkSubChild" title="FeaturePython Custom Properties">App::PropertyLinkSubChild</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyLinkSubGlobal" title="FeaturePython Custom Properties">App::PropertyLinkSubGlobal</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyLinkSubHidden" title="FeaturePython Custom Properties">App::PropertyLinkSubHidden</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyLinkSubList" title="FeaturePython Custom Properties">App::PropertyLinkSubList</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyLinkSubListChild" title="FeaturePython Custom Properties">App::PropertyLinkSubListChild</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyLinkSubListGlobal" title="FeaturePython Custom Properties">App::PropertyLinkSubListGlobal</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyLinkSubListHidden" title="FeaturePython Custom Properties">App::PropertyLinkSubListHidden</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyMap" title="FeaturePython Custom Properties">App::PropertyMap</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyMaterial" title="FeaturePython Custom Properties">App::PropertyMaterial</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyMaterialList" title="FeaturePython Custom Properties">App::PropertyMaterialList</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyMatrix" title="FeaturePython Custom Properties">App::PropertyMatrix</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyPath" title="FeaturePython Custom Properties">App::PropertyPath</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyPercent" title="FeaturePython Custom Properties">App::PropertyPercent</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyPersistentObject" title="FeaturePython Custom Properties">App::PropertyPersistentObject</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyPlacement" title="FeaturePython Custom Properties">App::PropertyPlacement</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyPlacementLink" title="FeaturePython Custom Properties">App::PropertyPlacementLink</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyPlacementList" title="FeaturePython Custom Properties">App::PropertyPlacementList</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyPosition" title="FeaturePython Custom Properties">App::PropertyPosition</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyPrecision" title="FeaturePython Custom Properties">App::PropertyPrecision</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyPressure" title="FeaturePython Custom Properties">App::PropertyPressure</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyPythonObject" title="FeaturePython Custom Properties">App::PropertyPythonObject</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyQuantity" title="FeaturePython Custom Properties">App::PropertyQuantity</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyQuantityConstraint" title="FeaturePython Custom Properties">App::PropertyQuantityConstraint</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertySpeed" title="FeaturePython Custom Properties">App::PropertySpeed</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyString" title="FeaturePython Custom Properties">App::PropertyString</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyStringList" title="FeaturePython Custom Properties">App::PropertyStringList</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyUUID" title="FeaturePython Custom Properties">App::PropertyUUID</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyVacuumPermittivity" title="FeaturePython Custom Properties">App::PropertyVacuumPermittivity</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyVector" title="FeaturePython Custom Properties">App::PropertyVector</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyVectorDistance" title="FeaturePython Custom Properties">App::PropertyVectorDistance</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyVectorList" title="FeaturePython Custom Properties">App::PropertyVectorList</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyVolume" title="FeaturePython Custom Properties">App::PropertyVolume</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyXLink" title="FeaturePython Custom Properties">App::PropertyXLink</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyXLinkList" title="FeaturePython Custom Properties">App::PropertyXLinkList</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyXLinkSub" title="FeaturePython Custom Properties">App::PropertyXLinkSub</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#App::PropertyXLinkSubList" title="FeaturePython Custom Properties">App::PropertyXLinkSubList</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#Mesh::PropertyCurvatureList" title="FeaturePython Custom Properties">Mesh::PropertyCurvatureList</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#Mesh::PropertyMeshKernel" title="FeaturePython Custom Properties">Mesh::PropertyMeshKernel</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#Mesh::PropertyNormalList" title="FeaturePython Custom Properties">Mesh::PropertyNormalList</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#Part::PropertyFilletEdges" title="FeaturePython Custom Properties">Part::PropertyFilletEdges</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#Part::PropertyGeometryList" title="FeaturePython Custom Properties">Part::PropertyGeometryList</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#Part::PropertyPartShape" title="FeaturePython Custom Properties">Part::PropertyPartShape</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#Part::PropertyShapeHistory" title="FeaturePython Custom Properties">Part::PropertyShapeHistory</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#Path::PropertyPath" title="FeaturePython Custom Properties">Path::PropertyPath</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#Path::PropertyTool" title="FeaturePython Custom Properties">Path::PropertyTool</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#Path::PropertyTooltable" title="FeaturePython Custom Properties">Path::PropertyTooltable</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#Sketcher::PropertyConstraintList" title="FeaturePython Custom Properties">Sketcher::PropertyConstraintList</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#Spreadsheet::PropertyColumnWidths" title="FeaturePython Custom Properties">Spreadsheet::PropertyColumnWidths</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#Spreadsheet::PropertyRowHeights" title="FeaturePython Custom Properties">Spreadsheet::PropertyRowHeights</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#Spreadsheet::PropertySheet" title="FeaturePython Custom Properties">Spreadsheet::PropertySheet</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#Spreadsheet::PropertySpreadsheetQuantity" title="FeaturePython Custom Properties">Spreadsheet::PropertySpreadsheetQuantity</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#TechDraw::PropertyCenterLineList" title="FeaturePython Custom Properties">TechDraw::PropertyCenterLineList</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#TechDraw::PropertyCosmeticEdgeList" title="FeaturePython Custom Properties">TechDraw::PropertyCosmeticEdgeList</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#TechDraw::PropertyCosmeticVertexList" title="FeaturePython Custom Properties">TechDraw::PropertyCosmeticVertexList</a></li>
<li><a href="https://wiki.freecadweb.org/FeaturePython_Custom_Properties#TechDraw::PropertyGeomFormatList" title="FeaturePython Custom Properties">TechDraw::PropertyGeomFormatList</a></li>
</ul>
<p>Özel nesnelerinize özellikler eklerken şunlara dikkat edin:</p>
<ul>
<li>
<p>Özellikler açıklamalarında <code>&lt;</code> veya <code>&gt;</code> karakterlerini kullanmayın (bu, <strong>.fcstd</strong> dosyasındaki <strong>xml</strong> parçalarını bozar)</p>
</li>
<li>
<p>Özellikler bir <strong>.fcstd</strong> dosyasında alfabetik olarak saklanır. Eğer özelliklerinizde bir şekil varsa, ismi alfabetik olarak "Şekil"den sonra gelen herhangi bir özellik şekilden SONRA yüklenecektir ve bu da garip davranışlara neden olabilir.</p>
</li>
</ul>
<p>Özellik özniteliklerinin tam listesi <a href="https://github.com/FreeCAD/FreeCAD/blob/master/src/App/PropertyStandard.h">PropertyStandard C++ başlık dosyasında</a> görülebilir. Örneğin, kullanıcının yalnız sınırlı bir değer aralığı girmesine izin vermek istiyorsanız (örneğin <code>PropertyIntegerConstraint</code> kullanarak), Python'da yalnız özellik değerini değil, aynı zamanda alt ve üst sınırı ve adım boyutunu da içeren bir tanımlama grubu 
atayacaksınız, aşağıda olduğu gibi:</p>
<div class="highlight"><pre><span></span><code><span class="n">prop</span> <span class="o">=</span> <span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="p">,</span> <span class="n">stepsize</span><span class="p">)</span>
</code></pre></div>

<h2>Özellik Türü</h2>
<p>Varsayılan olarak özellikler güncellenebilir. Örneğin bir yöntemin, sonucunu göstermek istemesi durumunda, özellikleri salt okunur yapmak mümkündür. Ayrıca özelliği gizlemek de mümkündür. Özellik türü aşağıdakiler kullanılarak ayarlanabilir:</p>
<div class="highlight"><pre><span></span><code><span class="n">obj</span><span class="o">.</span><span class="n">setEditorMode</span><span class="p">(</span><span class="s2">&quot;MyPropertyName&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</code></pre></div>

<p>mod, şu şekilde ayarlanabilen kısa bir tamsayıdır (int):</p>
<div class="highlight"><pre><span></span><code><span class="mi">0</span> <span class="o">--</span> <span class="n">varsayılan</span> <span class="n">mod</span><span class="p">,</span> <span class="n">okuma</span> <span class="n">ve</span> <span class="n">yazma</span> <span class="p">(</span><span class="n">default</span> <span class="n">mode</span><span class="p">,</span> <span class="n">read</span> <span class="ow">and</span> <span class="n">write</span><span class="p">)</span>
<span class="mi">1</span> <span class="o">--</span> <span class="n">Salt</span> <span class="n">okunur</span> <span class="p">(</span><span class="n">read</span><span class="o">-</span><span class="n">only</span><span class="p">)</span>
<span class="mi">2</span> <span class="o">--</span> <span class="n">gizli</span> <span class="p">(</span><span class="n">hidden</span><span class="p">)</span>
</code></pre></div>

<p>EditörModları, FreeCAD dosyasının yeniden yüklenmesine ayarlanmamıştır. Bu, <code>__setstate__</code> fonksiyonu tarafından yapılabilir. <a href="http://forum.freecadweb.org/viewtopic.php?f=18&amp;t=13460&amp;start=10#p108072">Eigenmode frequency always 0? - Page 2 - FreeCAD Forum</a> adresine bakın. <code>setEditorMode</code> kullanılarak, özellikler yalnızca <strong>PropertyEditor</strong>'de okunur. Hala python'dan değiştirilebilirler. Bunları gerçekten okumalarını sağlamak için, ayarın doğrudan <code>addProperty</code> fonksiyonunun içine iletilmesi gerekir. Örnek için <a href="http://forum.freecadweb.org/viewtopic.php?f=18&amp;t=13460&amp;start=20#p109709">Eigenmode frequency always 0? - Page 3 - FreeCAD Forum</a> adresine bakın.</p>
<p><code>AddProperty</code> fonksiyonundaki doğrudan ayarı kullanarak, daha fazla olanağınız da olur. Özellikle, bir özelliği çıktı özelliği olarak işaretlemek ilginçtir. Bu şekilde FreeCAD, özelliği değiştirirken dokunulduğunda işaretlemeyecektir (böylece yeniden hesaplamaya gerek yoktur).</p>
<p>Çıktı özelliği örneği (ayrıca bkz. <a href="https://forum.freecadweb.org/viewtopic.php?t=24928">[Solved] Skip excution for some properties - FreeCAD Forum</a>):</p>
<div class="highlight"><pre><span></span><code><span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyString&quot;</span><span class="p">,</span><span class="s2">&quot;MyCustomProperty&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
</code></pre></div>

<p><code>addProperty</code> işlevinin son parametresinde ayarlanabilen özellik türleri şunlardır:</p>
<div class="highlight"><pre><span></span><code><span class="mf">0</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Prop_None</span><span class="p">,</span><span class="w"> </span><span class="n">Özel</span><span class="w"> </span><span class="n">bir</span><span class="w"> </span><span class="n">özellik</span><span class="w"> </span><span class="n">türü</span><span class="w"> </span><span class="n">yok</span>
<span class="mf">1</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Prop_ReadOnly</span><span class="p">,</span><span class="w"> </span><span class="n">Özellik</span><span class="w"> </span><span class="n">düzenleyicide</span><span class="w"> </span><span class="n">salt</span><span class="w"> </span><span class="n">okunurdur</span>
<span class="mf">2</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Prop_Transient</span><span class="p">,</span><span class="w"> </span><span class="n">Özellik</span><span class="w"> </span><span class="n">dosyaya</span><span class="w"> </span><span class="n">kaydedilmeyecek</span>
<span class="mf">4</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Prop_Hidden</span><span class="p">,</span><span class="w"> </span><span class="n">Özellik</span><span class="w"> </span><span class="n">düzenleyicide</span><span class="w"> </span><span class="n">görünmeyecek</span>
<span class="mf">8</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Prop_Output</span><span class="p">,</span><span class="w"> </span><span class="n">Değiştirilmiş</span><span class="w"> </span><span class="n">özellik</span><span class="p">,</span><span class="w"> </span><span class="n">üst</span><span class="w"> </span><span class="n">kapsayıcısına</span><span class="w"> </span><span class="p">(</span><span class="n">konteyner</span><span class="p">)</span><span class="w"> </span><span class="n">dokunmuyor</span>
<span class="mf">16</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Prop_NoRecompute</span><span class="p">,</span><span class="w"> </span><span class="n">Değiştirilmiş</span><span class="w"> </span><span class="n">özellik</span><span class="p">,</span><span class="w"> </span><span class="n">yeniden</span><span class="w"> </span><span class="n">hesaplama</span><span class="w"> </span><span class="n">için</span><span class="w"> </span><span class="n">kapsayıcısına</span><span class="w"> </span><span class="p">(</span><span class="n">konteyner</span><span class="p">)</span><span class="w"> </span><span class="n">dokunmuyor</span>
</code></pre></div>

<p><a href="https://github.com/FreeCAD/FreeCAD/blob/master/src/App/PropertyContainer.h">PropertyContainer için C++ kaynak kodu başlığında</a> tanımlanan bu farklı özellik türlerini bulabilirsiniz.</p>
<h2>Diğer Daha Karmaşık Örnek</h2>
<p>Bu örnek, bir oktahedron (sekizyüzlü / sekiz yüzeyli katı bir şekil) oluşturmak için <a href="https://wiki.freecadweb.org/Part_Module">Part</a> modülünü kullanır, ardından <code>pivy</code> ile onun coin gösterimini oluşturur.</p>
<p>Kodun birinci bölümü, Document nesnesinin kendisidir:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">FreeCAD</span><span class="o">,</span> <span class="nn">FreeCADGui</span><span class="o">,</span> <span class="nn">Part</span>
<span class="kn">import</span> <span class="nn">pivy</span>
<span class="kn">from</span> <span class="nn">pivy</span> <span class="kn">import</span> <span class="n">coin</span>

<span class="k">class</span> <span class="nc">Octahedron</span><span class="p">:</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
     <span class="s2">&quot;Add some custom properties to our box feature&quot;</span>
     <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyLength&quot;</span><span class="p">,</span><span class="s2">&quot;Length&quot;</span><span class="p">,</span><span class="s2">&quot;Octahedron&quot;</span><span class="p">,</span><span class="s2">&quot;Length of the octahedron&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Length</span><span class="o">=</span><span class="mf">1.0</span>
     <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyLength&quot;</span><span class="p">,</span><span class="s2">&quot;Width&quot;</span><span class="p">,</span><span class="s2">&quot;Octahedron&quot;</span><span class="p">,</span><span class="s2">&quot;Width of the octahedron&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Width</span><span class="o">=</span><span class="mf">1.0</span>
     <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyLength&quot;</span><span class="p">,</span><span class="s2">&quot;Height&quot;</span><span class="p">,</span><span class="s2">&quot;Octahedron&quot;</span><span class="p">,</span> <span class="s2">&quot;Height of the octahedron&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Height</span><span class="o">=</span><span class="mf">1.0</span>
     <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;Part::PropertyPartShape&quot;</span><span class="p">,</span><span class="s2">&quot;Shape&quot;</span><span class="p">,</span><span class="s2">&quot;Octahedron&quot;</span><span class="p">,</span> <span class="s2">&quot;Shape of the octahedron&quot;</span><span class="p">)</span>
     <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

  <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">):</span>
     <span class="c1"># Define six vetices for the shape</span>
     <span class="n">v1</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
     <span class="n">v2</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">Length</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
     <span class="n">v3</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">fp</span><span class="o">.</span><span class="n">Width</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
     <span class="n">v4</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">Length</span><span class="p">,</span><span class="n">fp</span><span class="o">.</span><span class="n">Width</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
     <span class="n">v5</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">Length</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">fp</span><span class="o">.</span><span class="n">Width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">fp</span><span class="o">.</span><span class="n">Height</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
     <span class="n">v6</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">Length</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">fp</span><span class="o">.</span><span class="n">Width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="n">fp</span><span class="o">.</span><span class="n">Height</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>

     <span class="c1"># Make the wires/faces</span>
     <span class="n">f1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_face</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="n">v2</span><span class="p">,</span><span class="n">v5</span><span class="p">)</span>
     <span class="n">f2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_face</span><span class="p">(</span><span class="n">v2</span><span class="p">,</span><span class="n">v4</span><span class="p">,</span><span class="n">v5</span><span class="p">)</span>
     <span class="n">f3</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_face</span><span class="p">(</span><span class="n">v4</span><span class="p">,</span><span class="n">v3</span><span class="p">,</span><span class="n">v5</span><span class="p">)</span>
     <span class="n">f4</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_face</span><span class="p">(</span><span class="n">v3</span><span class="p">,</span><span class="n">v1</span><span class="p">,</span><span class="n">v5</span><span class="p">)</span>
     <span class="n">f5</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_face</span><span class="p">(</span><span class="n">v2</span><span class="p">,</span><span class="n">v1</span><span class="p">,</span><span class="n">v6</span><span class="p">)</span>
     <span class="n">f6</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_face</span><span class="p">(</span><span class="n">v4</span><span class="p">,</span><span class="n">v2</span><span class="p">,</span><span class="n">v6</span><span class="p">)</span>
     <span class="n">f7</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_face</span><span class="p">(</span><span class="n">v3</span><span class="p">,</span><span class="n">v4</span><span class="p">,</span><span class="n">v6</span><span class="p">)</span>
     <span class="n">f8</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_face</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="n">v3</span><span class="p">,</span><span class="n">v6</span><span class="p">)</span>
     <span class="n">shell</span><span class="o">=</span><span class="n">Part</span><span class="o">.</span><span class="n">makeShell</span><span class="p">([</span><span class="n">f1</span><span class="p">,</span><span class="n">f2</span><span class="p">,</span><span class="n">f3</span><span class="p">,</span><span class="n">f4</span><span class="p">,</span><span class="n">f5</span><span class="p">,</span><span class="n">f6</span><span class="p">,</span><span class="n">f7</span><span class="p">,</span><span class="n">f8</span><span class="p">])</span>
     <span class="n">solid</span><span class="o">=</span><span class="n">Part</span><span class="o">.</span><span class="n">makeSolid</span><span class="p">(</span><span class="n">shell</span><span class="p">)</span>
     <span class="n">fp</span><span class="o">.</span><span class="n">Shape</span> <span class="o">=</span> <span class="n">solid</span>

  <span class="c1"># helper mehod to create the faces</span>
  <span class="k">def</span> <span class="nf">make_face</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">v1</span><span class="p">,</span><span class="n">v2</span><span class="p">,</span><span class="n">v3</span><span class="p">):</span>
     <span class="n">wire</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makePolygon</span><span class="p">([</span><span class="n">v1</span><span class="p">,</span><span class="n">v2</span><span class="p">,</span><span class="n">v3</span><span class="p">,</span><span class="n">v1</span><span class="p">])</span>
     <span class="n">face</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">Face</span><span class="p">(</span><span class="n">wire</span><span class="p">)</span>
     <span class="k">return</span> <span class="n">face</span>
</code></pre></div>

<p>Ardından, nesneyi 3B sahnesinde göstermekten sorumlu olan görünüm sağlayıcı nesnesine sahip kodları yazıyoruz:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ViewProviderOctahedron</span><span class="p">:</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
     <span class="s2">&quot;Set this object to the proxy object of the actual view provider&quot;</span>
     <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyColor&quot;</span><span class="p">,</span><span class="s2">&quot;Color&quot;</span><span class="p">,</span><span class="s2">&quot;Octahedron&quot;</span><span class="p">,</span><span class="s2">&quot;Color of the octahedron&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Color</span><span class="o">=</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)</span>
     <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

  <span class="k">def</span> <span class="nf">attach</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
     <span class="s2">&quot;Setup the scene sub-graph of the view provider, this method is mandatory&quot;</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">shaded</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoGroup</span><span class="p">()</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">wireframe</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoGroup</span><span class="p">()</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">scale</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoScale</span><span class="p">()</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoBaseColor</span><span class="p">()</span>

     <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">=</span><span class="n">coin</span><span class="o">.</span><span class="n">SoCoordinate3</span><span class="p">()</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">=</span><span class="n">coin</span><span class="o">.</span><span class="n">SoIndexedLineSet</span><span class="p">()</span>

     <span class="bp">self</span><span class="o">.</span><span class="n">shaded</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">)</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">shaded</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">shaded</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">shaded</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="p">)</span>
     <span class="n">obj</span><span class="o">.</span><span class="n">addDisplayMode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shaded</span><span class="p">,</span><span class="s2">&quot;Shaded&quot;</span><span class="p">);</span>
     <span class="n">style</span><span class="o">=</span><span class="n">coin</span><span class="o">.</span><span class="n">SoDrawStyle</span><span class="p">()</span>
     <span class="n">style</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoDrawStyle</span><span class="o">.</span><span class="n">LINES</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">wireframe</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="n">style</span><span class="p">)</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">wireframe</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">)</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">wireframe</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">wireframe</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">wireframe</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="p">)</span>
     <span class="n">obj</span><span class="o">.</span><span class="n">addDisplayMode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wireframe</span><span class="p">,</span><span class="s2">&quot;Wireframe&quot;</span><span class="p">);</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">onChanged</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span><span class="s2">&quot;Color&quot;</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">updateData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
     <span class="s2">&quot;If a property of the handled feature has changed we have the chance to handle this here&quot;</span>
     <span class="c1"># fp is the handled feature, prop is the name of the property that has changed</span>
     <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;Shape&quot;</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">getPropertyByName</span><span class="p">(</span><span class="s2">&quot;Shape&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">point</span><span class="o">.</span><span class="n">setNum</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
        <span class="n">cnt</span><span class="o">=</span><span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">Vertexes</span><span class="p">:</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">point</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="n">cnt</span><span class="p">,</span><span class="n">i</span><span class="o">.</span><span class="n">X</span><span class="p">,</span><span class="n">i</span><span class="o">.</span><span class="n">Y</span><span class="p">,</span><span class="n">i</span><span class="o">.</span><span class="n">Z</span><span class="p">)</span>
           <span class="n">cnt</span><span class="o">=</span><span class="n">cnt</span><span class="o">+</span><span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">19</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">21</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">22</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">26</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">28</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">getDisplayModes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">obj</span><span class="p">):</span>
     <span class="s2">&quot;Return a list of display modes.&quot;</span>
     <span class="n">modes</span><span class="o">=</span><span class="p">[]</span>
     <span class="n">modes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Shaded&quot;</span><span class="p">)</span>
     <span class="n">modes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Wireframe&quot;</span><span class="p">)</span>
     <span class="k">return</span> <span class="n">modes</span>

  <span class="k">def</span> <span class="nf">getDefaultDisplayMode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
     <span class="s2">&quot;Return the name of the default display mode. It must be defined in getDisplayModes.&quot;</span>
     <span class="k">return</span> <span class="s2">&quot;Shaded&quot;</span>

  <span class="k">def</span> <span class="nf">setDisplayMode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">mode</span><span class="p">):</span>
     <span class="k">return</span> <span class="n">mode</span>

  <span class="k">def</span> <span class="nf">onChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
     <span class="s2">&quot;Here we can do something when a single property got changed&quot;</span>
     <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Console</span><span class="o">.</span><span class="n">PrintMessage</span><span class="p">(</span><span class="s2">&quot;Change property: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">prop</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
     <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;Color&quot;</span><span class="p">:</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">vp</span><span class="o">.</span><span class="n">getPropertyByName</span><span class="p">(</span><span class="s2">&quot;Color&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">rgb</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">c</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

  <span class="k">def</span> <span class="nf">getIcon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
     <span class="k">return</span> <span class="s2">&quot;&quot;&quot;        /* XPM */        static const char * ViewProviderBox_xpm[] = {        &quot;16 16 6 1&quot;,        &quot;    c None&quot;,        &quot;.   c #141010&quot;,        &quot;+   c #615BD2&quot;,        &quot;@   c #C39D55&quot;,        &quot;#   c #000000&quot;,        &quot;$   c #57C355&quot;,        &quot;        ........&quot;,        &quot;   ......++..+..&quot;,        &quot;   .@@@@.++..++.&quot;,        &quot;   .@@@@.++..++.&quot;,        &quot;   .@@  .++++++.&quot;,        &quot;  ..@@  .++..++.&quot;,        &quot;###@@@@ .++..++.&quot;,        &quot;##$.@@$#.++++++.&quot;,        &quot;#$#$.$$$........&quot;,        &quot;#$$#######      &quot;,        &quot;#$$#$$$$$#      &quot;,        &quot;#$$#$$$$$#      &quot;,        &quot;#$$#$$$$$#      &quot;,        &quot; #$#$$$$$#      &quot;,        &quot;  ##$$$$$#      &quot;,        &quot;   #######      &quot;};        &quot;&quot;&quot;</span>

  <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
     <span class="k">return</span> <span class="kc">None</span>

  <span class="k">def</span> <span class="nf">__setstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">state</span><span class="p">):</span>
     <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>

<p>Son olarak, nesnemiz ve onun <code>viewobject</code>'i tanımlandıktan sonra, onları çağırmamız (komutu çalıştırmamız) yeterlidir (Octahedron sınıfı ve viewprovider sınıf kodu doğrudan FreeCAD python konsolunda kopyalanabilir):</p>
<div class="highlight"><pre><span></span><code><span class="n">FreeCAD</span><span class="o">.</span><span class="n">newDocument</span><span class="p">()</span>
<span class="n">a</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">&quot;App::FeaturePython&quot;</span><span class="p">,</span><span class="s2">&quot;Octahedron&quot;</span><span class="p">)</span>
<span class="n">Octahedron</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">ViewProviderOctahedron</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ViewObject</span><span class="p">)</span>
</code></pre></div>

<h2>Nesneleri Seçilebilir Yapma</h2>
<p>Eğer nesnenizi veya en azından bir kısmını görünüm alanında tıklayarak seçilebilir yapmak istiyorsanız, onun coin geometrisini bir <code>SoFCSelection</code> düğümüne (node) dahil etmeniz gerekir. Nesnenizin widget'lar, açıklamalar vb. ile karmaşık bir temsili varsa, bunun yalnızca bir bölümünü <code>SoFCSelection</code>'a dahil etmek isteyebilirsiniz. <code>SoFCSelection</code> olan her şey, seçimi/ön seçimi algılamak için FreeCAD tarafından 
sürekli olarak taranır, bu nedenle gereksiz tarama ile aşırı yüklemeden kaçınmak mantıklıdır.</p>
<p>Sahne grafiğinin seçilebilir olan kısımları <code>SoFCSelection</code> düğümlerinin içinde olduğunda, seçim yolunu işlemek için iki yöntem sağlamanız gerekir. Seçim yolu, yoldaki her bir öğenin veya bir dizi sahne grafiği nesnesinin adlarını veren bir dize (string) biçimini alabilir. Sağladığınız iki yöntem, bir dize yolundan bir dizi sahne 
grafiği nesnesine dönüştüren <code>getDetailPath</code> ve sahne grafiğinde tıklanan bir öğeyi alan ve dize adını döndüren <code>getElementPicked</code>'dir (dize yolunu değil, not edin).</p>
<p>Molekülün öğelerini seçilebilir hale getirmek için uyarlanmış yukarıdaki molekül örneği:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Molecule</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Add two point properties &#39;&#39;&#39;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyVector&quot;</span><span class="p">,</span><span class="s2">&quot;p1&quot;</span><span class="p">,</span><span class="s2">&quot;Line&quot;</span><span class="p">,</span><span class="s2">&quot;Start point&quot;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyVector&quot;</span><span class="p">,</span><span class="s2">&quot;p2&quot;</span><span class="p">,</span><span class="s2">&quot;Line&quot;</span><span class="p">,</span><span class="s2">&quot;End point&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">p2</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">onChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;p1&quot;</span> <span class="ow">or</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;p2&quot;</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&#39;&#39;&#39; Print the name of the property that has changed &#39;&#39;&#39;</span>
            <span class="n">fp</span><span class="o">.</span><span class="n">Shape</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makeLine</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">p1</span><span class="p">,</span><span class="n">fp</span><span class="o">.</span><span class="n">p2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Print a short message when doing a recomputation, this method is mandatory &#39;&#39;&#39;</span>
        <span class="n">fp</span><span class="o">.</span><span class="n">Shape</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makeLine</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">p1</span><span class="p">,</span><span class="n">fp</span><span class="o">.</span><span class="n">p2</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">ViewProviderMolecule</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Set this object to the proxy object of the actual view provider &#39;&#39;&#39;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ViewObject</span> <span class="o">=</span> <span class="n">obj</span>
        <span class="n">sep1</span><span class="o">=</span><span class="n">coin</span><span class="o">.</span><span class="n">SoSeparator</span><span class="p">()</span>
        <span class="n">sel1</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoType</span><span class="o">.</span><span class="n">fromName</span><span class="p">(</span><span class="s1">&#39;SoFCSelection&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">createInstance</span><span class="p">()</span>
        <span class="c1"># sel1.policy.setValue(coin.SoSelection.SHIFT)</span>
        <span class="n">sel1</span><span class="o">.</span><span class="n">ref</span><span class="p">()</span>
        <span class="n">sep1</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="n">sel1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trl1</span><span class="o">=</span><span class="n">coin</span><span class="o">.</span><span class="n">SoTranslation</span><span class="p">()</span>
        <span class="n">sel1</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trl1</span><span class="p">)</span>
        <span class="n">sel1</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="n">coin</span><span class="o">.</span><span class="n">SoSphere</span><span class="p">())</span>
        <span class="n">sep2</span><span class="o">=</span><span class="n">coin</span><span class="o">.</span><span class="n">SoSeparator</span><span class="p">()</span>
        <span class="n">sel2</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoType</span><span class="o">.</span><span class="n">fromName</span><span class="p">(</span><span class="s1">&#39;SoFCSelection&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">createInstance</span><span class="p">()</span>
        <span class="n">sel2</span><span class="o">.</span><span class="n">ref</span><span class="p">()</span>
        <span class="n">sep2</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="n">sel2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trl2</span><span class="o">=</span><span class="n">coin</span><span class="o">.</span><span class="n">SoTranslation</span><span class="p">()</span>
        <span class="n">sel2</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trl2</span><span class="p">)</span>
        <span class="n">sel2</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="n">coin</span><span class="o">.</span><span class="n">SoSphere</span><span class="p">())</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">RootNode</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="n">sep1</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">RootNode</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="n">sep2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">updateData</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Object</span><span class="p">,</span> <span class="s1">&#39;p2&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sel1</span> <span class="o">=</span> <span class="n">sel1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sel2</span> <span class="o">=</span> <span class="n">sel2</span>

    <span class="k">def</span> <span class="nf">getDetailPath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">subname</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">append</span><span class="p">):</span>
        <span class="n">vobj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ViewObject</span>
        <span class="k">if</span> <span class="n">append</span><span class="p">:</span>
            <span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vobj</span><span class="o">.</span><span class="n">RootNode</span><span class="p">)</span>
            <span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vobj</span><span class="o">.</span><span class="n">SwitchNode</span><span class="p">)</span>

            <span class="n">mode</span> <span class="o">=</span> <span class="n">vobj</span><span class="o">.</span><span class="n">SwitchNode</span><span class="o">.</span><span class="n">whichChild</span><span class="o">.</span><span class="n">getValue</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">mode</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">mode</span> <span class="o">=</span> <span class="n">vobj</span><span class="o">.</span><span class="n">SwitchNode</span><span class="o">.</span><span class="n">getChild</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>
                <span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>
                <span class="n">sub</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">splitSubname</span><span class="p">(</span><span class="n">subname</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">sub</span> <span class="o">==</span> <span class="s1">&#39;Atom1&#39;</span><span class="p">:</span>
                    <span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sel1</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">sub</span> <span class="o">==</span> <span class="s1">&#39;Atom2&#39;</span><span class="p">:</span>
                    <span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sel2</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mode</span><span class="o">.</span><span class="n">getChild</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">getElementPicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pp</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">getPath</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">findNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sel1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;Atom1&#39;</span>
        <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">findNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sel2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;Atom2&#39;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">updateData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
        <span class="s2">&quot;If a property of the handled feature has changed we have the chance to handle this here&quot;</span>
        <span class="c1"># fp is the handled feature, prop is the name of the property that has changed</span>
        <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;p1&quot;</span><span class="p">:</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">getPropertyByName</span><span class="p">(</span><span class="s2">&quot;p1&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">trl1</span><span class="o">.</span><span class="n">translation</span><span class="o">=</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">x</span><span class="p">,</span><span class="n">p</span><span class="o">.</span><span class="n">y</span><span class="p">,</span><span class="n">p</span><span class="o">.</span><span class="n">z</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;p2&quot;</span><span class="p">:</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">getPropertyByName</span><span class="p">(</span><span class="s2">&quot;p2&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">trl2</span><span class="o">.</span><span class="n">translation</span><span class="o">=</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">x</span><span class="p">,</span><span class="n">p</span><span class="o">.</span><span class="n">y</span><span class="p">,</span><span class="n">p</span><span class="o">.</span><span class="n">z</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__setstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">state</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>

<span class="k">def</span> <span class="nf">makeMolecule</span><span class="p">():</span>
    <span class="n">FreeCAD</span><span class="o">.</span><span class="n">newDocument</span><span class="p">()</span>
    <span class="n">a</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">&quot;Part::FeaturePython&quot;</span><span class="p">,</span><span class="s2">&quot;Molecule&quot;</span><span class="p">)</span>
    <span class="n">Molecule</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">ViewProviderMolecule</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ViewObject</span><span class="p">)</span>
    <span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">recompute</span><span class="p">()</span>
</code></pre></div>

<h2>Basit Şekillerle Çalışmak</h2>
<p>Parametrik nesneniz basitçe bir şekil veriyorsa, bir görünüm sağlayıcı nesnesi kullanmanıza gerek yoktur. Şekil, FreeCAD'in standart şekil gösterimi kullanılarak görüntülenecektir:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">FreeCAD</span> <span class="k">as</span> <span class="nn">App</span>
<span class="kn">import</span> <span class="nn">FreeCADGui</span>
<span class="kn">import</span> <span class="nn">FreeCAD</span>
<span class="kn">import</span> <span class="nn">Part</span>
<span class="k">class</span> <span class="nc">Line</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;&quot;App two point properties&quot; &#39;&#39;&#39;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyVector&quot;</span><span class="p">,</span><span class="s2">&quot;p1&quot;</span><span class="p">,</span><span class="s2">&quot;Line&quot;</span><span class="p">,</span><span class="s2">&quot;Start point&quot;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyVector&quot;</span><span class="p">,</span><span class="s2">&quot;p2&quot;</span><span class="p">,</span><span class="s2">&quot;Line&quot;</span><span class="p">,</span><span class="s2">&quot;End point&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">p2</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;&quot;Print a short message when doing a recomputation, this method is mandatory&quot; &#39;&#39;&#39;</span>
        <span class="n">fp</span><span class="o">.</span><span class="n">Shape</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makeLine</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">p1</span><span class="p">,</span><span class="n">fp</span><span class="o">.</span><span class="n">p2</span><span class="p">)</span>

<span class="n">a</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">&quot;Part::FeaturePython&quot;</span><span class="p">,</span><span class="s2">&quot;Line&quot;</span><span class="p">)</span>
<span class="n">Line</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">ViewObject</span><span class="o">.</span><span class="n">Proxy</span><span class="o">=</span><span class="mi">0</span> <span class="c1"># just set it to something different from None (this assignment is needed to run an internal notification)</span>
<span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">recompute</span><span class="p">()</span>
</code></pre></div>

<p><strong>ViewProviderLine</strong> kullanımı ile aynı kod</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">FreeCAD</span> <span class="k">as</span> <span class="nn">App</span>
<span class="kn">import</span> <span class="nn">FreeCADGui</span>
<span class="kn">import</span> <span class="nn">FreeCAD</span>
<span class="kn">import</span> <span class="nn">Part</span>

<span class="k">class</span> <span class="nc">Line</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">         </span><span class="sd">&#39;&#39;&#39;&quot;App two point properties&quot; &#39;&#39;&#39;</span>
         <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyVector&quot;</span><span class="p">,</span><span class="s2">&quot;p1&quot;</span><span class="p">,</span><span class="s2">&quot;Line&quot;</span><span class="p">,</span><span class="s2">&quot;Start point&quot;</span><span class="p">)</span>
         <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyVector&quot;</span><span class="p">,</span><span class="s2">&quot;p2&quot;</span><span class="p">,</span><span class="s2">&quot;Line&quot;</span><span class="p">,</span><span class="s2">&quot;End point&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">p2</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
         <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;&quot;Print a short message when doing a recomputation, this method is mandatory&quot; &#39;&#39;&#39;</span>
        <span class="n">fp</span><span class="o">.</span><span class="n">Shape</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makeLine</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">p1</span><span class="p">,</span><span class="n">fp</span><span class="o">.</span><span class="n">p2</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">ViewProviderLine</span><span class="p">:</span>
   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">      </span><span class="sd">&#39;&#39;&#39; Set this object to the proxy object of the actual view provider &#39;&#39;&#39;</span>
      <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

   <span class="k">def</span> <span class="nf">getDefaultDisplayMode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">      </span><span class="sd">&#39;&#39;&#39; Return the name of the default display mode. It must be defined in getDisplayModes. &#39;&#39;&#39;</span>
      <span class="k">return</span> <span class="s2">&quot;Flat Lines&quot;</span>

<span class="n">a</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">&quot;Part::FeaturePython&quot;</span><span class="p">,</span><span class="s2">&quot;Line&quot;</span><span class="p">)</span>
<span class="n">Line</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">ViewProviderLine</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ViewObject</span><span class="p">)</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">recompute</span><span class="p">()</span>
</code></pre></div>

<h2>Sahne Yapısı</h2>
<p>Yukarıdaki örneklerin sahne grafiklerini biraz farklı şekillerde oluşturduğunu fark etmiş olabilirsiniz. Bazıları <code>obj.addDisplayMode(node, "modename")</code> kullanırken diğerleri <code>obj.SwitchNode.getChild(x).addChild(y)</code> kullanır.</p>
<p>Bir FreeCAD belgesindeki her özellik aşağıdaki sahne grafiği yapısını temel alır:</p>
<div class="highlight"><pre><span></span><code>RootNode
 \- SwitchNode
     \- Shaded
      - Wireframe
      - etc
</code></pre></div>

<p><code>SwitchNode</code>, FreeCAD'de hangi görüntüleme modunun seçildiğine bağlı olarak, alt öğelerinden yalnızca birini görüntüler.</p>
<p><code>addDisplayMode</code> kullanan örnekler, sahne grafiklerini yalnızca coin3d sahne grafiği öğelerinden oluşturuyor. Kapakların altında, <code>addDisplayMode</code>, <code>SwitchNode</code>'a yeni bir alt öğe ekler; o düğümün adı, geçtiği görüntüleme moduyla eşleşir.</p>
<p><code>SwitchNode.getChild(x).addChild</code> kullanan örnekler ayrıca, <code>fp.Shape = Part.makeLine(fp.p1,fp.p2)</code> gibi Part (Parça) tezgahındaki işlevleri kullanarak geometrilerinin bir bölümünü oluşturur. Bu, <code>SwitchNode</code> altında farklı görüntüleme modu sahne grafiklerini oluşturur; Daha sonra sahne grafiğine coin3d öğeleri eklemeye geldiğimizde, bunları <code>SwitchNode</code>'un yeni bir alt öğesini oluşturmak yerine <code>addChild</code> kullanarak mevcut görüntüleme modu sahne grafiklerine eklememiz gerekir.</p>
<p>Sahne grafiğine geometri eklemek için <code>addDisplayMode()</code> kullanılırken, her görüntüleme modunun <code>addDisplayMode()</code> öğesine geçirilen kendi düğümü olmalıdır; bunun için aynı düğümü tekrar kullanmayın. Bunu yapmak, seçim mekanizmasını karıştıracaktır. Her görüntüleme modunun düğümünün altına aynı geometri düğümleri eklenmişse sorun değil, yalnızca her görüntüleme modunun kökünün farklı olması 
gerekir.</p>
<p>Part (Parça) tezgahından nesneler kullanmak yerine yalnızca Coin3D sahne grafiği nesneleriyle çizilmek üzere uyarlanmış yukarıdaki molekül örneği:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">Part</span>
<span class="kn">from</span> <span class="nn">pivy</span> <span class="kn">import</span> <span class="n">coin</span>

<span class="k">class</span> <span class="nc">Molecule</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Add two point properties &#39;&#39;&#39;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyVector&quot;</span><span class="p">,</span><span class="s2">&quot;p1&quot;</span><span class="p">,</span><span class="s2">&quot;Line&quot;</span><span class="p">,</span><span class="s2">&quot;Start point&quot;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyVector&quot;</span><span class="p">,</span><span class="s2">&quot;p2&quot;</span><span class="p">,</span><span class="s2">&quot;Line&quot;</span><span class="p">,</span><span class="s2">&quot;End point&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">p2</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">onChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Print a short message when doing a recomputation, this method is mandatory &#39;&#39;&#39;</span>
        <span class="k">pass</span>

<span class="k">class</span> <span class="nc">ViewProviderMolecule</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Set this object to the proxy object of the actual view provider &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">constructed</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ViewObject</span> <span class="o">=</span> <span class="n">obj</span>

    <span class="k">def</span> <span class="nf">attach</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="n">material</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoMaterial</span><span class="p">()</span>
        <span class="n">material</span><span class="o">.</span><span class="n">diffuseColor</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">material</span><span class="o">.</span><span class="n">emissiveColor</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">drawStyle</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoDrawStyle</span><span class="p">()</span>
        <span class="n">drawStyle</span><span class="o">.</span><span class="n">pointSize</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">drawStyle</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoDrawStyle</span><span class="o">.</span><span class="n">LINES</span>
        <span class="n">wireframe</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoGroup</span><span class="p">()</span>
        <span class="n">shaded</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoGroup</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wireframe</span> <span class="o">=</span> <span class="n">wireframe</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shaded</span> <span class="o">=</span> <span class="n">shaded</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">coords</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoCoordinate3</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coords</span><span class="o">.</span><span class="n">point</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)])</span>
        <span class="n">wireframe</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">coords</span>
        <span class="n">wireframe</span> <span class="o">+=</span> <span class="n">drawStyle</span>
        <span class="n">wireframe</span> <span class="o">+=</span> <span class="n">material</span>
        <span class="n">shaded</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">coords</span>
        <span class="n">shaded</span> <span class="o">+=</span> <span class="n">drawStyle</span>
        <span class="n">shaded</span> <span class="o">+=</span> <span class="n">material</span>

        <span class="n">g</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoGroup</span><span class="p">()</span>
        <span class="n">sel1</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoType</span><span class="o">.</span><span class="n">fromName</span><span class="p">(</span><span class="s1">&#39;SoFCSelection&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">createInstance</span><span class="p">()</span>
        <span class="n">sel1</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="s1">&#39;EMISSIVE_DIFFUSE&#39;</span>
        <span class="n">p1</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoType</span><span class="o">.</span><span class="n">fromName</span><span class="p">(</span><span class="s1">&#39;SoIndexedPointSet&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">createInstance</span><span class="p">()</span>
        <span class="n">p1</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">sel1</span> <span class="o">+=</span> <span class="n">p1</span>
        <span class="n">g</span> <span class="o">+=</span> <span class="n">sel1</span>
        <span class="n">wireframe</span> <span class="o">+=</span> <span class="n">g</span>
        <span class="n">shaded</span> <span class="o">+=</span> <span class="n">g</span>

        <span class="n">g</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoGroup</span><span class="p">()</span>
        <span class="n">sel2</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoType</span><span class="o">.</span><span class="n">fromName</span><span class="p">(</span><span class="s1">&#39;SoFCSelection&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">createInstance</span><span class="p">()</span>
        <span class="n">sel2</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="s1">&#39;EMISSIVE_DIFFUSE&#39;</span>
        <span class="n">p2</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoType</span><span class="o">.</span><span class="n">fromName</span><span class="p">(</span><span class="s1">&#39;SoIndexedPointSet&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">createInstance</span><span class="p">()</span>
        <span class="n">p2</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">sel2</span> <span class="o">+=</span> <span class="n">p2</span>
        <span class="n">g</span> <span class="o">+=</span> <span class="n">sel2</span>
        <span class="n">wireframe</span> <span class="o">+=</span> <span class="n">g</span>
        <span class="n">shaded</span> <span class="o">+=</span> <span class="n">g</span>

        <span class="n">g</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoGroup</span><span class="p">()</span>
        <span class="n">sel3</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoType</span><span class="o">.</span><span class="n">fromName</span><span class="p">(</span><span class="s1">&#39;SoFCSelection&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">createInstance</span><span class="p">()</span>
        <span class="n">sel3</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="s1">&#39;EMISSIVE_DIFFUSE&#39;</span>
        <span class="n">p3</span> <span class="o">=</span> <span class="n">coin</span><span class="o">.</span><span class="n">SoType</span><span class="o">.</span><span class="n">fromName</span><span class="p">(</span><span class="s1">&#39;SoIndexedLineSet&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">createInstance</span><span class="p">()</span>
        <span class="n">p3</span><span class="o">.</span><span class="n">coordIndex</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
        <span class="n">sel3</span> <span class="o">+=</span> <span class="n">p3</span>
        <span class="n">g</span> <span class="o">+=</span> <span class="n">sel3</span>
        <span class="n">wireframe</span> <span class="o">+=</span> <span class="n">g</span>
        <span class="n">shaded</span> <span class="o">+=</span> <span class="n">g</span>

        <span class="n">obj</span><span class="o">.</span><span class="n">addDisplayMode</span><span class="p">(</span><span class="n">wireframe</span><span class="p">,</span> <span class="s1">&#39;Wireframe&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addDisplayMode</span><span class="p">(</span><span class="n">shaded</span><span class="p">,</span> <span class="s1">&#39;Shaded&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sel1</span> <span class="o">=</span> <span class="n">sel1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sel2</span> <span class="o">=</span> <span class="n">sel2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sel3</span> <span class="o">=</span> <span class="n">sel3</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">constructed</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">updateData</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Object</span><span class="p">,</span> <span class="s1">&#39;p2&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">getDetailPath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">subname</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">append</span><span class="p">):</span>
        <span class="n">vobj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ViewObject</span>
        <span class="k">if</span> <span class="n">append</span><span class="p">:</span>
            <span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vobj</span><span class="o">.</span><span class="n">RootNode</span><span class="p">)</span>
            <span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vobj</span><span class="o">.</span><span class="n">SwitchNode</span><span class="p">)</span>

            <span class="n">mode</span> <span class="o">=</span> <span class="n">vobj</span><span class="o">.</span><span class="n">SwitchNode</span><span class="o">.</span><span class="n">whichChild</span><span class="o">.</span><span class="n">getValue</span><span class="p">()</span>
            <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Console</span><span class="o">.</span><span class="n">PrintWarning</span><span class="p">(</span><span class="s2">&quot;getDetailPath: mode </span><span class="si">{}</span><span class="s2"> is active</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mode</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">mode</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">mode</span> <span class="o">=</span> <span class="n">vobj</span><span class="o">.</span><span class="n">SwitchNode</span><span class="o">.</span><span class="n">getChild</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>
                <span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>
                <span class="n">sub</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">splitSubname</span><span class="p">(</span><span class="n">subname</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">sub</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">sub</span> <span class="o">==</span> <span class="s1">&#39;Atom1&#39;</span><span class="p">:</span>
                    <span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sel1</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">sub</span> <span class="o">==</span> <span class="s1">&#39;Atom2&#39;</span><span class="p">:</span>
                    <span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sel2</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">sub</span> <span class="o">==</span> <span class="s1">&#39;Line&#39;</span><span class="p">:</span>
                    <span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sel3</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mode</span><span class="o">.</span><span class="n">getChild</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">getElementPicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pp</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">getPath</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">findNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sel1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;Atom1&#39;</span>
        <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">findNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sel2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;Atom2&#39;</span>
        <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">findNode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sel3</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;Line&#39;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">updateData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
        <span class="s2">&quot;If a property of the handled feature has changed we have the chance to handle this here&quot;</span>
        <span class="c1"># fp is the handled feature, prop is the name of the property that has changed</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">constructed</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;p1&quot;</span><span class="p">:</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">getPropertyByName</span><span class="p">(</span><span class="s2">&quot;p1&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">coords</span><span class="o">.</span><span class="n">point</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;p2&quot;</span><span class="p">:</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">getPropertyByName</span><span class="p">(</span><span class="s2">&quot;p2&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">coords</span><span class="o">.</span><span class="n">point</span><span class="o">.</span><span class="n">set1Value</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">getDisplayModes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="s1">&#39;Wireframe&#39;</span><span class="p">,</span> <span class="s1">&#39;Shaded&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">getDefaultDisplayMode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;Shaded&#39;</span>

    <span class="k">def</span> <span class="nf">setDisplayMode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">mode</span>

    <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__setstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">state</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>

<span class="k">def</span> <span class="nf">makeMolecule</span><span class="p">():</span>
    <span class="n">FreeCAD</span><span class="o">.</span><span class="n">newDocument</span><span class="p">()</span>
    <span class="n">a</span><span class="o">=</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">&quot;App::FeaturePython&quot;</span><span class="p">,</span><span class="s2">&quot;Molecule&quot;</span><span class="p">)</span>
    <span class="n">Molecule</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">b</span><span class="o">=</span><span class="n">ViewProviderMolecule</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ViewObject</span><span class="p">)</span>
    <span class="n">a</span><span class="o">.</span><span class="n">touch</span><span class="p">()</span>
    <span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">recompute</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span>

<span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">makeMolecule</span><span class="p">()</span>
</code></pre></div>

<h2>ParçaTasarımı (Part Design) Komut Dosyasıyla Yazılmış Nesneler</h2>
<p>Parça Tasarımında kodlanmış nesneler oluştururken, süreç yukarıda tartışılan komut dosyası oluşturulmuş nesnelere benzer, ancak birkaç ek husus vardır. Biri 3B görünümde gördüğümüz şekil için, diğeri ise polar desen özellikleri gibi desen araçları tarafından kullanılan şekil için olmak üzere 2 şekil özelliğini ele almalıyız. Nesne şekillerinin ayrıca, halihazırda Gövdede bulunan herhangi bir mevcut malzemeyle 
kaynaştırılması (veya Çıkarma özellikleri durumunda ondan kesilmesi) gerekir. Nesnelerimizin yerleştirilmesini ve bağlanmasını biraz farklı hesaba katmalıyız.</p>
<p>Parça Tasarımı komut dosyasıyla yazılmış katı nesne özellikleri, <code>Part::FeaturePython</code> yerine <code>PartDesign::FeaturePython</code>, <code>PartDesign::FeatureAdditivePython</code> veya <code>PartDesign::FeatureSubtractivePython</code>'a dayanmalıdır. Çoğaltma özelliklerinde yalnız Toplama ve Çıkarma varyantları kullanılabilir ve <code>Part::FeaturePython</code>'a
 dayalıysa, kullanıcı nesneyi bir Parça Tasarım Gövdesine bıraktığında, Gövde tarafından yerel bir Parça Tasarım nesnesi olarak ele alınmak yerine bir <code>BaseFeature</code> olur. <strong>Not</strong>: bunların hepsinin katı olması beklenir, bu nedenle katı olmayan bir özellik yapıyorsanız bunun <code>Part::FeaturePython</code>'a dayanması gerekir, yoksa ağaçtaki bir sonraki özellik katı olarak birleşmeye çalışır ve başarısız olur .</p>
<p>Burada, Parça Çalışma Tezgahındaki (Part Workbench'teki) <strong>Boru (Tube)</strong> temel şekline (primitifine) benzer bir Boru temel şekil oluşturmanın basit bir örneği verilmiştir, ancak bu bir Parça Tasarımı (Part Design) katı özellik nesnesi olacaktır. Bunun için 2 ayrı dosya oluşturacağız: <code>pdtube.FCMacro</code> ve <code>pdtube.py</code>. <code>.FCMacro</code> dosyası, nesneyi oluşturmak için kullanıcı tarafından çalıştırılacaktır. <code>.py</code> dosyası, <code>.FCMacro</code> tarafından içe aktarılan sınıf tanımlarını tutacaktır. Bunu bu şekilde yapmanın nedeni, FreeCAD'i yeniden başlattıktan ve Borularımızdan birini içeren bir belgeyi açtıktan sonra nesnenin parametrik yapısını korumaktır.</p>
<p>İlk olarak, sınıf tanım dosyasını oluşturuyoruz:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1">#classes should go in pdtube.py</span>
<span class="kn">import</span> <span class="nn">FreeCAD</span><span class="o">,</span> <span class="nn">FreeCADGui</span><span class="o">,</span> <span class="nn">Part</span>
<span class="k">class</span> <span class="nc">PDTube</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">obj</span><span class="p">):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyLength&quot;</span><span class="p">,</span><span class="s2">&quot;Radius1&quot;</span><span class="p">,</span><span class="s2">&quot;Tube&quot;</span><span class="p">,</span><span class="s2">&quot;Radius1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Radius1</span> <span class="o">=</span> <span class="mi">5</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyLength&quot;</span><span class="p">,</span><span class="s2">&quot;Radius2&quot;</span><span class="p">,</span><span class="s2">&quot;Tube&quot;</span><span class="p">,</span><span class="s2">&quot;Radius2&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Radius2</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">&quot;App::PropertyLength&quot;</span><span class="p">,</span><span class="s2">&quot;Height&quot;</span><span class="p">,</span><span class="s2">&quot;Tube&quot;</span><span class="p">,</span><span class="s2">&quot;Height of tube&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Height</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">makeAttachable</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">makeAttachable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>

        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">Version</span><span class="p">()[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="mi">19</span><span class="p">:</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">addExtension</span><span class="p">(</span><span class="s1">&#39;Part::AttachExtensionPython&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">addExtension</span><span class="p">(</span><span class="s1">&#39;Part::AttachExtensionPython&#39;</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>

        <span class="n">obj</span><span class="o">.</span><span class="n">setEditorMode</span><span class="p">(</span><span class="s1">&#39;Placement&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1">#non-readonly non-hidden</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">fp</span><span class="p">):</span>
        <span class="n">outer_cylinder</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makeCylinder</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">Radius2</span><span class="p">,</span> <span class="n">fp</span><span class="o">.</span><span class="n">Height</span><span class="p">)</span>
        <span class="n">inner_cylinder</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makeCylinder</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">Radius1</span><span class="p">,</span> <span class="n">fp</span><span class="o">.</span><span class="n">Height</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fp</span><span class="o">.</span><span class="n">Radius1</span> <span class="o">==</span> <span class="n">fp</span><span class="o">.</span><span class="n">Radius2</span><span class="p">:</span> <span class="c1">#just make cylinder</span>
            <span class="n">tube_shape</span> <span class="o">=</span> <span class="n">outer_cylinder</span>
        <span class="k">elif</span> <span class="n">fp</span><span class="o">.</span><span class="n">Radius1</span> <span class="o">&lt;</span> <span class="n">fp</span><span class="o">.</span><span class="n">Radius2</span><span class="p">:</span>
            <span class="n">tube_shape</span> <span class="o">=</span> <span class="n">outer_cylinder</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">inner_cylinder</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> <span class="c1">#invert rather than error out</span>
            <span class="n">tube_shape</span> <span class="o">=</span> <span class="n">inner_cylinder</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">outer_cylinder</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span> <span class="s2">&quot;positionBySupport&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">makeAttachable</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
        <span class="n">fp</span><span class="o">.</span><span class="n">positionBySupport</span><span class="p">()</span>
        <span class="n">tube_shape</span><span class="o">.</span><span class="n">Placement</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">Placement</span>

        <span class="c1">#BaseFeature (shape property of type Part::PropertyPartShape) is provided for us</span>
        <span class="c1">#with the PartDesign::FeaturePython and related classes, but it might be empty</span>
        <span class="c1">#if our object is the first object in the tree.  it&#39;s a good idea to check</span>
        <span class="c1">#for its existence in case we want to make type Part::FeaturePython, which won&#39;t have it</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span> <span class="s2">&quot;BaseFeature&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">fp</span><span class="o">.</span><span class="n">BaseFeature</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;Subtractive&quot;</span> <span class="ow">in</span> <span class="n">fp</span><span class="o">.</span><span class="n">TypeId</span><span class="p">:</span>
                <span class="n">full_shape</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">BaseFeature</span><span class="o">.</span><span class="n">Shape</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">tube_shape</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">full_shape</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">BaseFeature</span><span class="o">.</span><span class="n">Shape</span><span class="o">.</span><span class="n">fuse</span><span class="p">(</span><span class="n">tube_shape</span><span class="p">)</span>
            <span class="n">full_shape</span><span class="o">.</span><span class="n">transformShape</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">Placement</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span><span class="o">.</span><span class="n">toMatrix</span><span class="p">(),</span> <span class="kc">True</span><span class="p">)</span> <span class="c1">#borrowed from gears workbench</span>
            <span class="n">fp</span><span class="o">.</span><span class="n">Shape</span> <span class="o">=</span> <span class="n">full_shape</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">fp</span><span class="o">.</span><span class="n">Shape</span> <span class="o">=</span> <span class="n">tube_shape</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span><span class="s2">&quot;AddSubShape&quot;</span><span class="p">):</span> <span class="c1">#PartDesign::FeatureAdditivePython and</span>
                                      <span class="c1">#PartDesign::FeatureSubtractivePython have this</span>
                                      <span class="c1">#property but PartDesign::FeaturePython does not</span>
                                      <span class="c1">#It is the shape used for copying in pattern features</span>
                                      <span class="c1">#for example in making a polar pattern</span>
            <span class="n">tube_shape</span><span class="o">.</span><span class="n">transformShape</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">Placement</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span><span class="o">.</span><span class="n">toMatrix</span><span class="p">(),</span> <span class="kc">True</span><span class="p">)</span>
            <span class="n">fp</span><span class="o">.</span><span class="n">AddSubShape</span> <span class="o">=</span> <span class="n">tube_shape</span>

<span class="k">class</span> <span class="nc">PDTubeVP</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;Set this object to the proxy object of the actual view provider&#39;&#39;&#39;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">attach</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">vobj</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vobj</span> <span class="o">=</span> <span class="n">vobj</span>

    <span class="k">def</span> <span class="nf">updateData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;If a property of the handled feature has changed we have the chance to handle this here&#39;&#39;&#39;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">getDisplayModes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;Return a list of display modes.&#39;&#39;&#39;</span>
        <span class="n">modes</span><span class="o">=</span><span class="p">[]</span>
        <span class="n">modes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Flat Lines&quot;</span><span class="p">)</span>
        <span class="n">modes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Shaded&quot;</span><span class="p">)</span>
        <span class="n">modes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Wireframe&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">modes</span>

    <span class="k">def</span> <span class="nf">getDefaultDisplayMode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;Return the name of the default display mode. It must be defined in getDisplayModes.&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="s2">&quot;Flat Lines&quot;</span>

    <span class="k">def</span> <span class="nf">setDisplayMode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">mode</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;Map the display mode defined in attach with those defined in getDisplayModes.\                Since they have the same names nothing needs to be done. This method is optional&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">mode</span>

    <span class="k">def</span> <span class="nf">onChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;Here we can do something when a single property got changed&#39;&#39;&#39;</span>
        <span class="c1">#FreeCAD.Console.PrintMessage(&quot;Change property: &quot; + str(prop) + &quot;\n&quot;)</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">getIcon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;Return the icon in XPM format which will appear in the tree view. This method is\                optional and if not defined a default icon is shown.&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;&quot;            /* XPM */            static const char * ViewProviderBox_xpm[] = {            &quot;16 16 6 1&quot;,            &quot;   c None&quot;,            &quot;.  c #141010&quot;,            &quot;+  c #615BD2&quot;,            &quot;@  c #C39D55&quot;,            &quot;#  c #000000&quot;,            &quot;$  c #57C355&quot;,            &quot;        ........&quot;,            &quot;   ......++..+..&quot;,            &quot;   .@@@@.++..++.&quot;,            &quot;   .@@@@.++..++.&quot;,            &quot;   .@@  .++++++.&quot;,            &quot;  ..@@  .++..++.&quot;,            &quot;###@@@@ .++..++.&quot;,            &quot;##$.@@$#.++++++.&quot;,            &quot;#$#$.$$$........&quot;,            &quot;#$$#######      &quot;,            &quot;#$$#$$$$$#      &quot;,            &quot;#$$#$$$$$#      &quot;,            &quot;#$$#$$$$$#      &quot;,            &quot; #$#$$$$$#      &quot;,            &quot;  ##$$$$$#      &quot;,            &quot;   #######      &quot;};            &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;When saving the document this object gets stored using Python&#39;s json module.\                Since we have some un-serializable parts here -- the Coin stuff -- we must define this method\                to return a tuple of all serializable objects or None.&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__setstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">state</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;When restoring the serialized object from document we have the chance to set some internals here.\                Since no data were serialized nothing needs to be done here.&#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>

<p>Ve şimdi nesneyi oluşturmak için makro dosyası içeriğini yazıyoruz:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># -*- coding: utf-8 -*-</span>

<span class="c1">#pdtube.FCMacro</span>
<span class="kn">import</span> <span class="nn">pdtube</span>
<span class="c1">#above line needed if the class definitions above are place in another file: PDTube.py</span>
<span class="c1">#this is needed if the tube object is to remain parametric after restarting FreeCAD and loading</span>
<span class="c1">#a document containing the object</span>

<span class="n">body</span> <span class="o">=</span> <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ActiveView</span><span class="o">.</span><span class="n">getActiveObject</span><span class="p">(</span><span class="s2">&quot;pdbody&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">body</span><span class="p">:</span>
    <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Console</span><span class="o">.</span><span class="n">PrintError</span><span class="p">(</span><span class="s2">&quot;No active body.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">PySide</span> <span class="kn">import</span> <span class="n">QtGui</span>
    <span class="n">window</span> <span class="o">=</span> <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">getMainWindow</span><span class="p">()</span>
    <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Additive&quot;</span><span class="p">,</span><span class="s2">&quot;Subtractive&quot;</span><span class="p">,</span><span class="s2">&quot;Neither additive nor subtractive&quot;</span><span class="p">]</span>
    <span class="n">item</span><span class="p">,</span><span class="n">ok</span> <span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QInputDialog</span><span class="o">.</span><span class="n">getItem</span><span class="p">(</span><span class="n">window</span><span class="p">,</span><span class="s2">&quot;Select tube type&quot;</span><span class="p">,</span><span class="s2">&quot;Select whether you want additive, subtractive, or neither:&quot;</span><span class="p">,</span><span class="n">items</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ok</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">item</span> <span class="o">==</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">className</span> <span class="o">=</span> <span class="s2">&quot;PartDesign::FeatureAdditivePython&quot;</span>
        <span class="k">elif</span> <span class="n">item</span> <span class="o">==</span> <span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">className</span> <span class="o">=</span> <span class="s2">&quot;PartDesign::FeatureSubtractivePython&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">className</span> <span class="o">=</span> <span class="s2">&quot;PartDesign::FeaturePython&quot;</span> <span class="c1">#not usable in pattern features, such as polar pattern</span>

        <span class="n">tube</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="n">className</span><span class="p">,</span><span class="s2">&quot;Tube&quot;</span><span class="p">)</span>
        <span class="n">pdtube</span><span class="o">.</span><span class="n">PDTube</span><span class="p">(</span><span class="n">tube</span><span class="p">)</span>
        <span class="n">pdtube</span><span class="o">.</span><span class="n">PDTubeVP</span><span class="p">(</span><span class="n">tube</span><span class="o">.</span><span class="n">ViewObject</span><span class="p">)</span>
        <span class="n">body</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="n">tube</span><span class="p">)</span> <span class="c1">#optionally we can also use body.insertObject() for placing at particular place in tree</span>
</code></pre></div>

<h2>Daha Fazla Bilgi için</h2>
<p>Ek Sayfalar:</p>
<ul>
<li><a href="https://wiki.freecadweb.org/Scripted_objects_saving_attributes" title="Scripted objects saving attributes">Öznitelikleri kaydeden komut dosyası nesneleri</a></li>
<li><a href="https://wiki.freecadweb.org/Scripted_objects_migration" title="Scripted objects migration">Komut dosyasıyla oluşturulmuş nesneleri taşıma/yükseltme</a></li>
<li><a href="https://wiki.freecadweb.org/Scripted_objects_with_attachment" title="Scripted objects with attachment">Ekli komut dosyası nesneleri</a></li>
<li><a href="https://wiki.freecadweb.org/Viewprovider" title="Viewprovider">Görünüm sağlayıcılar</a></li>
</ul>
<p>Komut dosyasıyla yazılmış nesneler hakkında ilginç forum konuları:</p>
<ul>
<li><a href="http://forum.freecadweb.org/viewtopic.php?f=22&amp;t=13740">Yükleme esnasında kaybolan Python nesnesi özellikleri</a></li>
<li><a href="http://forum.freecadweb.org/viewtopic.php?t=12139">Yeni FeaturePython gridir</a></li>
<li><a href="https://forum.freecadweb.org/viewtopic.php?f=18&amp;t=44009"><code>__getstate__</code> ve <code>__setstate__</code> ile ilgili açıklama, resmi belgeler</a>, <a href="https://docs.python.org/3/library/pickle.html#object.__getstate__">official documentation</a></li>
<li><a href="https://forum.freecadweb.org/viewtopic.php?f=18&amp;t=13460&amp;start=20#p109709">Eigenmode frekansı her zaman 0?</a></li>
<li><a href="https://forum.freecadweb.org/viewtopic.php?f=22&amp;t=21330">python özelliğinin setEdit'e düzgün bir şekilde nasıl uygulanır?</a></li>
</ul>
<p>Burada sunulan örneklere ek olarak, daha fazla örnek için FreeCAD kaynak kodu <a href="https://github.com/FreeCAD/FreeCAD/blob/master/src/Mod/TemplatePyMod/FeaturePython.py">src/Mod/TemplatePyMod/FeaturePython.py</a>'ye bakın.</p>
<p>Kaynak: <a href="https://wiki.freecadweb.org/Scripted_objects">Scripted objects - FreeCAD Documentation</a></p>
<p><a href="freecad-scripting-05-topolojik-veri-kodlamasi.html">← Önceki Bölüm</a></p>
</div>
		</div>
	</body>
</html>