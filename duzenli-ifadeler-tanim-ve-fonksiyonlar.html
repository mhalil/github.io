<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">
	<head>
		<link href="http://gmpg.org/xfn/11" rel="profile">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta http-equiv="content-type" content="text/html; charset=utf-8">

		<!-- Metadata -->
	<meta name="description" content="3D Modelleme, Animasyon, Render, Vektör - Raster Grafik İşleme ve Python ile Programlama konularına meraklı Açık Kaynak Hayranı bir Makine Mühendisi">
	<meta property="og:description" content="3D Modelleme, Animasyon, Render, Vektör - Raster Grafik İşleme ve Python ile Programlama konularına meraklı Açık Kaynak Hayranı bir Makine Mühendisi">
	<meta property="og:title" content="Düzenli İfadeler - Tanım ve Fonksiyonlar" />
	<meta property="og:type" content="article" />
	<meta property="og:url" content="/duzenli-ifadeler-tanim-ve-fonksiyonlar.html" />
		<meta property="og:image" content="/images/avatar.png" />

		<!-- Enable responsiveness on mobile devices-->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

		<title>mhalil - Programlama ve 3D</title>

		<!-- CSS -->
		<link href="//fonts.googleapis.com/" rel="dns-prefetch">
		<link href="//fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic|Abril+Fatface|PT+Sans:400,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet">

		<link rel="stylesheet" href="/theme/css/poole.css" />
		<link rel="stylesheet" href="/theme/css/hyde.css" />
		<link rel="stylesheet" href="/theme/css/syntax.css" />
			<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css" crossorigin="anonymous">

		<!-- Feeds -->

		<!-- Analytics -->
	</head>

	<body class="theme-base-0c">
<div class="sidebar">
	<div class="container sidebar-sticky">
		<div class="sidebar-about">

			<h1>
				<a href="/">
					<img class="profile-picture" src="/images/avatar.png">
					mhalil
				</a>
			</h1>
			<p class="lead"></p>
			<p class="lead">3D Modelleme, Animasyon, Render, Vektör - Raster Grafik İşleme ve Python ile Programlama konularına meraklı Açık Kaynak Hayranı bir Makine Mühendisi </p>
			<p></p>
		</div>
			<ul class="sidebar-nav">
					<li><a href="/archives.html">Arşiv</a></li>
					<li><a href="/categories.html">Kategoriler</a></li>
					<li><a href="/tags.html">Etiketler</a></li>
					<li><a href="/pages/blender.html">Blender</a></li>
					<li><a href="/pages/freecad.html">FreeCAD</a></li>
					<li><a href="/pages/librecad.html">LibreCAD</a></li>
					<li><a href="/pages/python.html">Python</a></li>
					<li><a href="/pages/solvespace.html">Solvespace</a></li>
			</ul>
		<nav class="sidebar-social">
					<a class="sidebar-social-item" href="https://twitter.com/AcikKaynakci" target="_blank">
						<i class="fa fa-twitter"></i>
					</a>
					<a class="sidebar-social-item" href="https://www.artstation.com/mustafahalil" target="_blank">
						<i class="fa fa-artstation"></i>
					</a>
					<a class="sidebar-social-item" href="https://github.com/mhalil" target="_blank">
						<i class="fa fa-github"></i>
					</a>
					<a class="sidebar-social-item" href="https://www.instagram.com/acikkaynakci/" target="_blank">
						<i class="fa fa-instagram"></i>
					</a>
			<a class="sidebar-social-item" href="/">
				<i class="fa fa-rss"></i>
			</a>
		</nav>
			<p class="sidebar-footer">İlmin zekatı %100'dür. Bildiklerizi paylaşın.</p>
	</div>
</div>		<div class="content container">
<div class="post">
	<h1 class="post-title">Düzenli İfadeler - Tanım ve Fonksiyonlar</h1>
	<span class="post-date">Cum 01 Eylül 2023</span>
	<h1>Düzenli İfadeler (Regular Expressions)</h1>
<p><strong>Düzenli ifadeler (RegEx ya da Regular Expression)</strong>, bir karakter dizisi içinde bulunan, belli bir düzene uyan eşleşmeleri bulmanıza ve yönetmenize yardımcı olacak <strong>desenler</strong> oluşturmanıza izin veren bir metin dizisidir (bir string ifadedir). Bir metinde geçen karakterleri <strong>RegEx desenleri (pattern)</strong> kullanarak arayabiliriz.</p>
<p>Düzenli ifadeler bir arama işleminde eşleştirilecek deseni temsil eden özel dizelerdir. <strong>Java</strong> ve <strong>Perl</strong> gibi programlama dillerinden <strong>grep, sed</strong> ve metin düzenleyici <strong>vim</strong> gibi metin işleme araçlarına kadar çok çeşitli bilgi işlem uygulamalarında kullanılan önemli bir araçtır. </p>
<p><strong>Düzenli ifadeler sayesinde ne yapabiliriz bir bakalım :</strong></p>
<ul>
<li>
<p><strong>Yer değiştirme:</strong> Belirli parçaları değiştirir. Örnek olarak metin içerisindeki tüm büyük harfleri küçük harf ya da tüm küçük harfleri büyük harfe dönüştürebilirsiniz.</p>
</li>
<li>
<p><strong>Doğrulama :</strong> Yazdığınız bir program olsun, bu programda büyük veya küçük harf, nokta veya rakam gibi kriterleri karşılayıp karşılamadığını kontrol edebilirsiniz.</p>
</li>
<li>
<p><strong>Arama :</strong> Bir metin içerisindeki tüm ögeleri aratabilirsiniz. Örneğin telefon numaraları ya da e-posta adresleri gibi.</p>
</li>
<li>
<p><strong>Koordinat ile hareket etme :</strong> Örneğin, bir dizindeki belirli paketleri, dosyaları işlemek isteyebilirsiniz ancak yalnızca belirli koşulları karşılıyorlarsa, komut satırında çalıştırabiliyorsunuz.</p>
</li>
<li>
<p><strong>Metni Yeniden Biçimlendirme :</strong> Örneğin, Bir programdaki verileri metin dosyası olarak dışa aktarabilir, ardından düzenini değiştirerek metin düzenleyicisi kullanarak başka bir programa aktarabilirsiniz.</p>
</li>
</ul>
<p>Python’daki düzenli ifadelere ilişkin her şey, bir modül içinde tutulur. Bu modülün adı <strong>re</strong>'dir. <strong>re</strong> modülü Python'ın dahili (build-in) modeüllerindendir. Ayrıca yüklememize gerek yoktur. Bilgisayarınızda Python yüklü ise, <strong>re modülü</strong> de yüklenmiş ve kullanıma hazır olarak bekliyordur.</p>
<p>Düzenli ifadeleri kullanabilmemiz için öncelikle bu <strong>re</strong> modülünü içe aktarmamız gerekir:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">re</span>
</code></pre></div>

<h2>RegEx Fonksiyonları / Metotları</h2>
<p><strong>re</strong> modülü bir veride geçen karakterleri bulmamıza ve değiştirmemize olanak sağlayan bazı fonksiyonlara sahiptir. Bunlar;</p>
<table>
<thead>
<tr>
<th><strong>Fonksiyon / Metot</strong></th>
<th><strong>Açıklama</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>match()</strong></td>
<td>Karakter dizisinin başında eşleşme olup olmadığını göster</td>
</tr>
<tr>
<td><strong>search()</strong></td>
<td>Eşleşme olup olmadığını göster</td>
</tr>
<tr>
<td><strong>findall()</strong></td>
<td>Tüm eşleşmeleri göster (liste halinde)</td>
</tr>
<tr>
<td><strong>finditer()</strong></td>
<td>Belirtilen desenlerin karakter dizileri içerisindeki konumunu bulmak için kullanabiliriz</td>
</tr>
<tr>
<td><strong>split()</strong></td>
<td>Eşleşme noktalarından böl ve liste oluştur</td>
</tr>
<tr>
<td><strong>sub()</strong></td>
<td>Eşleşmeleri verilen ifade ile değiştir</td>
</tr>
<tr>
<td><strong>subn()</strong></td>
<td>Eşleşmeleri verilen ifade ile değiştir, kaç adet değişiklik yapıldığını gösterir</td>
</tr>
<tr>
<td><strong>escape()</strong></td>
<td>Bir metni, düzenli ifade içinde kullanılmaya uygun hale getirmek için kullanılır</td>
</tr>
<tr>
<td><strong>compile()</strong></td>
<td>Düzenli İfadeleri Derlemek için kullanılır</td>
</tr>
<tr>
<td><strong>purge()</strong></td>
<td>Düzenli ifade önbelleğini temizlemek için kullanılır</td>
</tr>
</tbody>
</table>
<h2>match() Metodu</h2>
<p>Bir <strong>karakter dizisi başında</strong> belirli bir kelimenin ya da kelime grubunun geçip geçmediğini öğrenmek istiyorsak bu işlemi <code>match()</code> metodunu kullanarak yapabiliriz.</p>
<p><strong>match()</strong> metodunun;</p>
<ul>
<li>ilk argümanı eşleştirilecek (aranacak) değer, yani desen</li>
<li>ikinci argümanı ise, aramanın yapılacağı karakter dizisi olmalıdır.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">cumle</span> <span class="o">=</span> <span class="s2">&quot;python güçlü bir programlama dilidir.&quot;</span>

<span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;python&quot;</span><span class="p">,</span> <span class="n">cumle</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&lt;re.Match object; span=(0, 6), match=&#39;python&#39;&gt;
</code></pre></div>

<p>Yukarıdaki <code>r"python"</code> deseni, yani aranan değer, zaten bulunan değeri ile aynı olduğu için, bu arama/eşleşme yönteminin kullanımı size anlamsız/saçma gelmiş olabilir. </p>
<p>İlerleyen bölümlerde <strong>Metakarakterler</strong> konusunu anlatılırken çok farklı desenler oluştururarak farklı sonuçlar bulacağız. O bölümde düzenli ifadelerin ne için kullanılabileceğini ve bizlere ne kadar kolaylık sağladığını anlayacaksınız. </p>
<p>Düzenli ifadeler için bir desen tanımlarken, <code>r</code> ifadesini yazmamız istenir. İlerleyen bölümlerde göreceğimiz üzere, <strong>özel metakarakterleri</strong> desen içerisinde yazmamız gerektiğinde <code>r</code> ifadesini kullanmadığımızda sorun ile karşılaşırız. Özel metakarakterleri desen içerisinde yazmadığımız zaman da <code>r</code> ifadesini kullanmak sorun çıkarmıyor. Üstelik <code>r</code> ile tanımlanan ifade, bir değişken mi? yoksa bir düzenli ifade deseni mi? olduğu kodu inceleyenlere yardımcı oluyor.</p>
<p><code>match</code> nesnesinin dönen değeri ile bazı işlemler yapılabilir. Bunun için nesnenin yöntemleri kullanılır. Bunlar;</p>
<ul>
<li><code>span()</code> Başlangıç ve bitiş konumlarını <strong>tuple</strong> olarak verir.</li>
<li><code>string</code> Dönen metinsel dizgi ifadesini (string) yazdırır</li>
<li><code>group()</code> Eşleşen grupları yazdırır. (<code>group(1)</code>, <code>group(2)</code>, ...vb. <code>group(0) = group()</code> eşittir, tüm eşleşmeleri yazdırır.)</li>
</ul>
<p>Bu çıktıdaki <strong>span</strong> parametresi bize, aradığımız <strong>python</strong> karakter dizisinin (yani desenin), <strong>cumle</strong> değişkeninin 0. ile 6. karakterleri arasında yer aldığını söylüyor.</p>
<h3>span() metodu</h3>
<p>Eşleşmenin başladığı ve sona erdiği karakterlerin sırasını verir (0 değeri 1. karakteri temsil eder):</p>
<div class="highlight"><pre><span></span><code><span class="n">cumle</span> <span class="o">=</span> <span class="s2">&quot;python güçlü bir programlama dilidir.&quot;</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;python&quot;</span><span class="p">,</span> <span class="n">cumle</span><span class="p">)</span>
<span class="n">x</span><span class="o">.</span><span class="n">span</span><span class="p">()</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>(0, 6)
</code></pre></div>

<p><code>match()</code> metodunun <code>span()</code> metodunu kullanarak değerleri doğrudan elde edebiliriz.</p>
<div class="highlight"><pre><span></span><code><span class="n">cumle</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&#39;python&#39;
</code></pre></div>

<p>farklı tarzda yazmak istersek, şu ifadeyi de kullanabiliriz;</p>
<div class="highlight"><pre><span></span><code><span class="n">cumle</span><span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">span</span><span class="p">()[</span><span class="mi">0</span><span class="p">]:</span><span class="n">x</span><span class="o">.</span><span class="n">span</span><span class="p">()[</span><span class="mi">1</span><span class="p">]]</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&#39;python&#39;
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">txt</span> <span class="o">=</span> <span class="s2">&quot;Bu sabah yağmur var İstanbul&#39;da...&quot;</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\by\w+&quot;</span><span class="p">,</span> <span class="n">txt</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">span</span><span class="p">())</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>(9, 15)
</code></pre></div>

<h3>string Özelliği</h3>
<p>Eşleşme bulunan metni gösterir.</p>
<div class="highlight"><pre><span></span><code><span class="n">txt</span> <span class="o">=</span> <span class="s2">&quot;Bu sabah yağmur var İstanbul&#39;da...&quot;</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\by\w+&quot;</span><span class="p">,</span> <span class="n">txt</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">string</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">Bu</span> <span class="n">sabah</span> <span class="n">yağmur</span> <span class="n">var</span> <span class="n">İstanbul</span><span class="s1">&#39;da...</span>
</code></pre></div>

<h3>group() Metodu</h3>
<p>Belirtilen desen ile eşleşen değeri döndürür.</p>
<div class="highlight"><pre><span></span><code><span class="n">txt</span> <span class="o">=</span> <span class="s2">&quot;Bu sabah yağmur var İstanbul&#39;da...&quot;</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\by\w+&quot;</span><span class="p">,</span> <span class="n">txt</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>yağmur
</code></pre></div>

<p><code>x = re.match("python", cumle)</code> ifadesi ile eşleştirme komutunu bir değişkene (<strong>x</strong>'e) atadık. Hatırlarsanız, bu fonksiyonu komut satırına yazdığımızda bir eşleşme nesnesi elde ediyorduk. İşte burada değişkene atadığımız şey aslında bu eşleşme nesnesinin kendisi oluyor. Bu durumu şu şekilde teyit edebilirsiniz:</p>
<div class="highlight"><pre><span></span><code><span class="n">cumle</span> <span class="o">=</span> <span class="s2">&quot;python güçlü bir programlama dilidir.&quot;</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;python&quot;</span><span class="p">,</span> <span class="n">cumle</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>re.Match
</code></pre></div>

<p>Gördüğünüz gibi <strong>x</strong> bir eşleştirme (match) nesnesidir.
<code>group()</code> metodu, düzenli ifadelerin değil, eşleşme nesnelerinin bir metodudur.</p>
<p>Bu metodu kullandığımızda direkt aranan değer ekrana yazdırılacaktır. Bu aşamada, metodun gereksiz ya da saçma olduğunu düşünüyor olabilirsiniz. <strong>Eşleşme Nesnelerinin Metotları</strong> başlığı altında  <code>group()</code> metodunun ne işe yaradığını daha detaylı inceleyeceğiz.</p>
<div class="highlight"><pre><span></span><code><span class="n">x</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&#39;python&#39;
</code></pre></div>

<p><code>match()</code> metodu ile, <strong>cumle</strong> değişkeni içerisinde <strong>Java</strong> kelimesini arayıp, sonucu inceleyelim.</p>
<div class="highlight"><pre><span></span><code><span class="n">cumle</span> <span class="o">=</span> <span class="s2">&quot;python güçlü bir programlama dilidir.&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;Java&quot;</span><span class="p">,</span> <span class="n">cumle</span><span class="p">))</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>None
</code></pre></div>

<p>Python, <strong>match()</strong> metodu yardımıyla aradığımız şeyi eşleştirdiği (bulduğu) zaman bir eşleşme nesnesi (match object) döndürüyor. Eğer eşleşme yoksa, o zaman da <strong>None</strong> değerini döndürüyor.</p>
<div class="highlight"><pre><span></span><code><span class="n">cumle</span> <span class="o">=</span> <span class="s2">&quot;python güçlü bir programlama dilidir.&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;güçlü&quot;</span><span class="p">,</span> <span class="n">cumle</span><span class="p">))</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>None
</code></pre></div>

<p><strong>cumle</strong> değişkeninde <strong>güçlü</strong> ifadesi geçtiği halde <code>match()</code> metodu bize bir eşleşme nesnesi döndürmedi. Peki ama neden?</p>
<p>Aslında bu gayet normal. Çünkü <code>match()</code> metodu bir karakter dizisinin sadece en başına bakar. 
Yani "<strong>python güçlü bir programlama dilidir.</strong>" ifadesini tutan <strong>cumle</strong> değişkenine <code>re.match(“güçlü”, cumle)</code> gibi bir fonksiyon uyguladığımızda, <code>match()</code> metodu <strong>cumle</strong> değişkeninin yalnızca en başına bakacak ve <strong>cumle</strong> değişkeninin en başında <strong>güçlü</strong> yerine <strong>python</strong> ifadesini gördüğü için, bize olumsuz yanıt verecektir.</p>
<p>Aslında <code>match()</code> metodunun yaptığı bu işi, karakter dizilerinin <code>split()</code> metodu yardımıyla da yapabiliriz:</p>
<h2>search() Metodu</h2>
<p><code>search()</code> metodu ile <code>match()</code> metodu arasında çok önemli bir fark vardır. <code>match()</code> metodu bir karakter dizisinin en başına bakıp bir <strong>eşleştirme</strong> işlemi yaparken, <code>search()</code> metodu karakter dizisinin genelinde bir <strong>arama</strong> işlemi yapar. Yani biri eşleştirir, öbürü arar.</p>
<p><code>search()</code> metodu, eşleşmenin gerçekleştiği ilk değeri döndürür. Aranan değer ya da desen, karakter dizisi içerisinde birden fazla geçse bile, ilk eşleşmede işlem sonlanır.</p>
<p><strong>güçlü</strong> ifadesini <code>search()</code> metodu yardımı ile, <strong>cumle</strong> değişkeni içerisinde <strong>arayalım</strong>.</p>
<div class="highlight"><pre><span></span><code><span class="n">cumle</span> <span class="o">=</span> <span class="s2">&quot;python güçlü bir programlama dilidir.&quot;</span>
<span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;güçlü&quot;</span><span class="p">,</span> <span class="n">cumle</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="n">re</span><span class="o">.</span><span class="n">Match</span> <span class="nb">object</span><span class="p">;</span> <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="n">match</span><span class="o">=</span><span class="s1">&#39;güçlü&#39;</span><span class="o">&gt;</span>
</code></pre></div>

<p>Gördüğünüz gibi, <code>search()</code> metodu <strong>güçlü</strong> kelimesini buldu. Çünkü <code>search()</code> metodu, <code>match()</code> metodunun aksine, bir karakter dizisinin sadece baş tarafına bakmakla yetinmiyor, karakter dizisinin geneli üzerinde bir arama işlemi gerçekleştiriyor.</p>
<p>Tıpkı <code>match()</code> metodunda olduğu gibi, <code>search()</code> metodunda da <code>span()</code> ve <code>group()</code> metotlarından faydalanarak bulunan şeyin hangi aralıkta olduğunu ve bu şeyin ne olduğunu görüntüleyebiliriz:</p>
<div class="highlight"><pre><span></span><code><span class="n">kardiz</span> <span class="o">=</span> <span class="s2">&quot;Python güçlü bir dildir&quot;</span>
<span class="n">nesne</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;güçlü&quot;</span><span class="p">,</span> <span class="n">kardiz</span><span class="p">)</span>
<span class="n">nesne</span><span class="o">.</span><span class="n">span</span><span class="p">()</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>(7, 12)
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">nesne</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&#39;güçlü&#39;
</code></pre></div>

<h3>Start() Medodu</h3>
<p>Arama deseni ile eşleşen ifadenin, karakter dizisinin kaçıncı karakterinde <strong>başladığını</strong> görmek için <code>start()</code> metodunu kullanabiliriz ;</p>
<div class="highlight"><pre><span></span><code><span class="n">nesne</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="mf">7</span>
</code></pre></div>

<h3>End() Medodu</h3>
<p>Arama deseni ile eşleşen ifadenin, karakter dizisinin kaçıncı karakterinde <strong>bittiğini</strong> görmek için <code>end()</code> metodunu kullanabiliriz ;</p>
<div class="highlight"><pre><span></span><code><span class="n">nesne</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="mf">12</span>
</code></pre></div>

<p>Şimdiye kadar hep karakter dizileri üzerinde çalıştık. İsterseniz biraz da listeler üzerinde örnekler verelim.</p>
<p>Şöyle bir listemiz olsun:</p>
<div class="highlight"><pre><span></span><code><span class="n">liste</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;elma&quot;</span><span class="p">,</span> <span class="s2">&quot;armut&quot;</span><span class="p">,</span> <span class="s2">&quot;kebap&quot;</span><span class="p">]</span>
<span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;kebap&quot;</span><span class="p">,</span> <span class="n">liste</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="o">---------------------------------------------------------------------------</span>

<span class="ne">TypeError</span>                                 <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>

<span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ipykernel_3704</span><span class="o">/</span><span class="mf">1944706800.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="mi">1</span> <span class="n">liste</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;elma&quot;</span><span class="p">,</span> <span class="s2">&quot;armut&quot;</span><span class="p">,</span> <span class="s2">&quot;kebap&quot;</span><span class="p">]</span>
<span class="o">----&gt;</span> <span class="mi">2</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;kebap&quot;</span><span class="p">,</span> <span class="n">liste</span><span class="p">)</span>


<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.10</span><span class="o">/</span><span class="n">re</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">string</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
    <span class="mi">198</span>     <span class="s2">&quot;&quot;&quot;Scan through string looking for a match to the pattern, returning</span>
<span class="s2">    199     a Match object, or None if no match was found.&quot;&quot;&quot;</span>
<span class="o">--&gt;</span> <span class="mi">200</span>     <span class="k">return</span> <span class="n">_compile</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
    <span class="mi">201</span> 
    <span class="mi">202</span> <span class="k">def</span> <span class="nf">sub</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">repl</span><span class="p">,</span> <span class="n">string</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>


<span class="ne">TypeError</span><span class="p">:</span> <span class="n">expected</span> <span class="n">string</span> <span class="ow">or</span> <span class="nb">bytes</span><span class="o">-</span><span class="n">like</span> <span class="nb">object</span>
</code></pre></div>

<p>Ne oldu? Hata aldınız, değil mi? Bu normal. Çünkü düzenli ifadeler karakter dizileri üzerinde işler. 
Bunlar doğrudan listeler üzerinde işlem yapamaz. O yüzden bizim Python’a biraz yardımcı olmamız gerekiyor:</p>
<div class="highlight"><pre><span></span><code><span class="n">liste</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;elma&quot;</span><span class="p">,</span> <span class="s2">&quot;armut&quot;</span><span class="p">,</span> <span class="s2">&quot;kebap&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">liste</span><span class="p">:</span>
    <span class="n">nesne</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;kebap&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">nesne</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nesne</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>kebap
</code></pre></div>

<h2>findall() Metodu</h2>
<p>Bir metin içinde geçen belirli kelimelerin tümünü bulmak istiyorsak <code>findall()</code> metodunu kullanmalıyız.</p>
<div class="highlight"><pre><span></span><code><span class="n">metin</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Guido Van Rossum Python&#39;ı geliştirmeye 1990 yılında başlamış... Yani aslında Python için nispeten yeni</span>
<span class="s2">bir dil denebilir. Ancak Python&#39;un çok uzun bir geçmişi olmasa da, bu dil öteki dillere kıyasla kolay olması, hızlı</span>
<span class="s2">olması, ayrı bir derleyici programa ihtiyaç duymaması ve bunun gibi pek çok nedenden ötürü çoğu kimsenin gözdesi</span>
<span class="s2">haline gelmiştir. Ayrıca Google&#39;ın da Python&#39;a özel bir önem ve değer verdiğini, çok iyi derecede Python bilenlere</span>
<span class="s2">iş olanağı sunduğunu da hemen söyleyelim. Mesela bundan kısa bir süre önce Python&#39;ın yaratıcısı Guido Van Rossum </span>
<span class="s2">Google&#39;de işe başladı...&quot;&quot;&quot;</span>
</code></pre></div>

<p>Yukarıdaki <strong>metin</strong> değişkeni içinde geçen bütün <strong>Python</strong> kelimelerini bulmak istersek aşağıdaki kodu çalıştırmalıyız;</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;Python&quot;</span><span class="p">,</span> <span class="n">metin</span><span class="p">))</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>[&#39;Python&#39;, &#39;Python&#39;, &#39;Python&#39;, &#39;Python&#39;, &#39;Python&#39;, &#39;Python&#39;]
</code></pre></div>

<p>Gördüğünüz gibi, metinde geçen bütün “Python” kelimelerini bir çırpıda liste olarak aldık.</p>
<h2>finditer() Metodu</h2>
<p>Belirtilen desenlerin karakter dizileri içerisindeki konumunu bulmak için <code>finditer()</code> metodunu kullanabiliriz. <code>finditer()</code> metodu liste döndürmez, iterable bir nesne döndürür.</p>
<p>Örneğin, yukarıda belirtilen <strong>metin</strong> değişkeni içerisinde <strong>Python</strong> ifadesinin (deseninin) hangi konumda olduğunu (aranan desenin başlangıç ve bitiş değerlerini) bulmaya çalışalım.</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="s2">&quot;Python&quot;</span><span class="p">,</span> <span class="n">metin</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">span</span><span class="p">())</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>(17, 23)
(77, 83)
(128, 134)
(370, 376)
(430, 436)
(522, 528)
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">desen</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;\d</span><span class="si">{4}</span><span class="s2">&quot;</span>
<span class="n">eslesenler</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">desen</span><span class="p">,</span> <span class="n">metin</span><span class="p">)</span>

<span class="k">for</span> <span class="n">eslesen</span> <span class="ow">in</span> <span class="n">eslesenler</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">eslesen</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="mf">1990</span>
</code></pre></div>

<h2>split() Metodu</h2>
<p><code>split()</code> metodu veriyi eşleşmelerin olduğu noktalardan böler ve liste haline getirir. Örneğin aşağıdaki kod çalıştırılırsa cümle boşluk (<code>\s</code>) karakterlerinden bölünür (yani kelimelere ayrılır):</p>
<div class="highlight"><pre><span></span><code><span class="n">desen</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;Python&quot;</span>
<span class="n">bol</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">desen</span><span class="p">,</span> <span class="n">metin</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">bol</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>[&#39;Guido Van Rossum &#39;, &quot;&#39;ı geliştirmeye 1990 yılında başlamış... Yani aslında &quot;, &#39; için nispeten yeni\nbir dil denebilir. Ancak &#39;, &quot;&#39;un çok uzun bir geçmişi olmasa da, bu dil öteki dillere kıyasla kolay olması, hızlı\nolması, ayrı bir derleyici programa ihtiyaç duymaması ve bunun gibi pek çok nedenden ötürü çoğu kimsenin gözdesi\nhaline gelmiştir. Ayrıca Google&#39;ın da &quot;, &quot;&#39;a özel bir önem ve değer verdiğini, çok iyi derecede &quot;, &#39; bilenlere\niş olanağı sunduğunu da hemen söyleyelim. Mesela bundan kısa bir süre önce &#39;, &quot;&#39;ın yaratıcısı Guido Van Rossum \nGoogle&#39;de işe başladı...&quot;]
</code></pre></div>

<p>Gördüğünüz gibi, metin, <strong>Python</strong> ibaresi gördüğün yerden itibaren parçalara ayrılarak liste oluşturdu. <strong>Python</strong> ibaresi listeye dahil edilmedi.</p>
<div class="highlight"><pre><span></span><code><span class="n">cumle</span> <span class="o">=</span> <span class="s2">&quot;python güçlü bir programlama dilidir.&quot;</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;\s&quot;</span><span class="p">,</span> <span class="n">cumle</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>[&#39;python&#39;, &#39;güçlü&#39;, &#39;bir&#39;, &#39;programlama&#39;, &#39;dilidir.&#39;]
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cumle</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;python&quot;</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>True
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cumle</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;python&quot;</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>True
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">cumle</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;güçlü&quot;</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>False
</code></pre></div>

<p>Bölünme sayısı <code>split()</code> fonksiyonunun 3. parametresinde <strong>(maxsplit)</strong> belirtilebilir. Aşağıdaki örnekte veri en çok 2 boşluk kadar (3 parça) bölünecektir:</p>
<div class="highlight"><pre><span></span><code><span class="n">cumle</span> <span class="o">=</span> <span class="s2">&quot;python güçlü bir programlama dilidir.&quot;</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;\s&quot;</span><span class="p">,</span> <span class="n">cumle</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>[&#39;python&#39;, &#39;güçlü&#39;, &#39;bir programlama dilidir.&#39;]
</code></pre></div>

<p>Aynı işi sadece <code>startswith()</code> metodunu kullanarak dahi yapabiliriz:</p>
<p>Eğer düzenli ifadelerden tek beklentiniz bir karakter dizisinin en başındaki veriyle eşleştirme işlemi yapmaksa, <code>split()</code> veya <code>startswith()</code> metotlarını kullanmak daha mantıklıdır. Çünkü <code>split()</code> ve <code>startswith()</code> metotları <code>match()</code> metodundan çok daha hızlı çalışacaktır.</p>
<h2>Metin/Karakter Dizisi Değiştirme İşlemleri</h2>
<h2>sub() metodu</h2>
<p>Şimdiye kadar hep düzenli ifadeler yoluyla bir karakter dizisini nasıl eşleştireceğimizi inceledik. Ama tabii ki düzenli ifadeler yalnızca bir karakter dizisi <strong>bulmak</strong>la ilgili değildir. Bu araç aynı zamanda bir karakter dizisini <strong>değiştirmeyi</strong> de kapsar. Bu iş için temel olarak iki metot kullanılır. Bunlardan ilki <code>sub()</code> metodudur. <strong>Substitute</strong> kelimesi, yerine koy, değiştir anlamına gelir. Bu metot, pek çok uygulamadan bildiğimiz <strong>Bul ve Değiştir</strong> fonksiyonudur aslında. Bu bölümde <code>sub()</code> metodunu inceleyeceğiz.</p>
<p><code>sub()</code> metodunun;</p>
<ul>
<li>ilk argümanı, değiştirilecek değeri,</li>
<li>ikinci argümanı, yerine konulacak değeri,</li>
<li>üçüncü argümanı, hangi yapı/ dizgi/ paragraf içinde değişimin yapılacağını,</li>
<li>dördüncü argümanı, kaç eşleşmede değişiklik yapılacağını,</li>
</ul>
<p>tanımlar.</p>
<p>Aşağıdaki örnekte <strong>kavun</strong> kelimesini bulacak, ardından <strong>karpuz</strong> olarak değiştirecektir:</p>
<div class="highlight"><pre><span></span><code><span class="n">txt</span> <span class="o">=</span> <span class="s2">&quot;Bugün kavun yedim.&quot;</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;kavun&quot;</span><span class="p">,</span> <span class="s2">&quot;karpuz&quot;</span><span class="p">,</span> <span class="n">txt</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>Bugün karpuz yedim.
</code></pre></div>

<p>yukarıdaki açıklamada <code>sub()</code> metodu ile kaç eşleşmede değişiklik yapılacağı, metodun 4. parametresinde (count) belirtilebileceğinden bahsetmiştik. Basit bir örnek yapalım;</p>
<div class="highlight"><pre><span></span><code><span class="n">txt</span> <span class="o">=</span> <span class="s2">&quot;Yaz Yaz Yaz Bir Kenara Yaz&quot;</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;Yaz&quot;</span><span class="p">,</span> <span class="s2">&quot;Çiz&quot;</span><span class="p">,</span> <span class="n">txt</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>Çiz Çiz Yaz Bir Kenara Yaz
</code></pre></div>

<p><code>sub()</code> metodunu,  <code>compile()</code> metodu ile şu şekilde kullanabiliriz:</p>
<div class="highlight"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="s2">&quot;Kırmızı başlıklı kız, kırmızı elma dolu sepetiyle anneannesinin evine gidiyormuş!&quot;</span>

<span class="n">derle</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;kırmızı&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">derle</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;yeşil&quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">))</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>yeşil başlıklı kız, yeşil elma dolu sepetiyle anneannesinin evine gidiyormuş!
</code></pre></div>

<p>Burada karakter dizimiz içinde geçen bütün <strong>kırmızı</strong> kelimelerini <strong>yeşil</strong> kelimesiyle değiştirdik. Bunu yaparken de <code>re.IGNORECASE</code> adlı derleme seçeneğinden yararlandık.</p>
<p>Elbette <code>sub()</code> metoduyla daha karmaşık işlemler yapılabilir. Bu noktada şöyle bir hatırlatma yapalım. Bu <code>sub()</code> metodu karakter dizilerinin <code>replace()</code> metoduna çok benzer. Ama <code>sub()</code> metodu hem kendi başına <code>replace()</code> metodundan çok daha güçlüdür, hem de beraber kullanılabilecek derleme seçenekleri sayesinde <code>replace()</code> metodundan çok daha esnektir. Eğer yapmak istediğiniz iş <code>replace()</code> metoduyla halledilebiliyorsa en doğru yol, <code>replace()</code> metodunu kullanmaktır.</p>
<p>Şimdi bu <code>sub()</code> metodunu kullanarak biraz daha karmaşık bir işlem yapacağız. Aşağıdaki metne bakalım:</p>
<div class="highlight"><pre><span></span><code><span class="n">metin</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Karadeniz Ereğlisi denince akla ilk olarak kömür ve demir-çelik</span>
<span class="s2">gelir. Kokusu ve tadıyla dünyaya nam salmış meşhur Osmanlı çileği ise ismini</span>
<span class="s2">verdiği festival günleri dışında pek hatırlanmaz. Oysa Çin&#39;den Arnavutköy&#39;e</span>
<span class="s2">oradan da Ereğli&#39;ye getirilen kralların meyvesi çilek, burada geçirdiği değişim</span>
<span class="s2">sonucu tadına doyulmaz bir hal alır. Ereğli&#39;nin havasından mı suyundan mı</span>
<span class="s2">bilinmez, kokusu, tadı bambaşka bir hale dönüşür ve meşhur Osmanlı çileği</span>
<span class="s2">unvanını hak eder. Bu nazik ve aromalı çilekten yapılan reçel de likör de bir</span>
<span class="s2">başka olur. Bu yıl dokuzuncusu düzenlenen Uluslararası Osmanlı Çileği Kültür</span>
<span class="s2">Festivali&#39;nde 36 üretici arasında yetiştirdiği çileklerle birinci olan Kocaali</span>
<span class="s2">Köyü&#39;nden Güner Özdemir, yılda bir ton ürün alıyor. 60 yaşındaki Özdemir,</span>
<span class="s2">çileklerinin sırrını yoğun ilgiye ve içten duyduğu sevgiye bağlıyor: &quot;Erkekler</span>
<span class="s2">bahçemize giremez. Koca ayaklarıyla ezerler çileklerimizi&quot; Çileği toplamanın zor</span>
<span class="s2">olduğunu söyleyen Ayşe Özhan da çocukluğundan bu yana çilek bahçesinde</span>
<span class="s2">çalışıyor. Her sabah 04.00&#39;te kalkan Özhan, çileklerini özenle suluyor. Kasım</span>
<span class="s2">başında ektiği çilek fideleri haziran başında meyve veriyor.&quot;&quot;&quot;</span>
</code></pre></div>

<p>Gelin bu metin içinde geçen <strong>çilek</strong> kelimelerini <strong>erik</strong> kelimesi ile değiştirelim. Ama bunu yaparken, metin içinde <strong>çilek</strong> kelimesinin <strong>Çilek</strong> şeklinde de geçtiğine dikkat edelim. Ayrıca Türkçe kuralları gereği bu <strong>çilek</strong> kelimesinin bazı yerlerde ünsüz yumuşamasına uğrayarak <strong>çileğ-</strong> şekline dönüştüğünü de unutmayalım.</p>
<p>Bu metin içinde geçen <strong>çilek</strong> kelimelerini <strong>erik</strong>'le değiştirmek için birkaç yol kullanabilirsiniz. </p>
<p>Birinci yolda, her değişiklik için ayrı bir düzenli ifade oluşturulabilir. Ancak bu yolun dezavantajı, metnin de birkaç kez kopyalanmasını gerektirmesidir. Çünkü ilk düzenli ifade oluşturulup buna göre metinde bir değişiklik yapıldıktan sonra, ilk değişiklikleri içeren metnin, farklı bir metin olarak kopyalanması gerekir (metin2 gibi.).</p>
<p>Ardından ikinci değişiklik yapılacağı zaman, bu değişikliğin metin2 üzerinden yapılması gerekir. Aynı şekilde bu metin de, mesela, metin3 şeklinde tekrar kopyalanmalıdır. Bundan sonraki yeni bir değişiklik de bu metin3 üzerinden yapılacaktır. Bu durum bu şekilde uzar gider. Metni tekrar tekrar kopyalamak yerine, düzenli ifadeleri kullanarak şöyle bir çözüm de üretebiliriz:</p>
<div class="highlight"><pre><span></span><code><span class="n">derle</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;çile[kğ]&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">degistir</span><span class="p">(</span><span class="n">nesne</span><span class="p">):</span>
    <span class="n">a</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;çileğ&quot;</span><span class="p">:</span><span class="s2">&quot;eriğ&quot;</span><span class="p">,</span> <span class="s2">&quot;Çileğ&quot;</span><span class="p">:</span><span class="s2">&quot;Eriğ&quot;</span><span class="p">,</span> <span class="s2">&quot;Çilek&quot;</span><span class="p">:</span><span class="s2">&quot;Erik&quot;</span><span class="p">,</span> <span class="s2">&quot;çilek&quot;</span><span class="p">:</span><span class="s2">&quot;erik&quot;</span><span class="p">}</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">nesne</span><span class="o">.</span><span class="n">group</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">b</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">derle</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">degistir</span><span class="p">,</span> <span class="n">metin</span><span class="p">))</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>Karadeniz Ereğlisi denince akla ilk olarak kömür ve demir-çelik
gelir. Kokusu ve tadıyla dünyaya nam salmış meşhur Osmanlı eriği ise ismini
verdiği festival günleri dışında pek hatırlanmaz. Oysa Çin&#39;den Arnavutköy&#39;e
oradan da Ereğli&#39;ye getirilen kralların meyvesi erik, burada geçirdiği değişim
sonucu tadına doyulmaz bir hal alır. Ereğli&#39;nin havasından mı suyundan mı
bilinmez, kokusu, tadı bambaşka bir hale dönüşür ve meşhur Osmanlı eriği
unvanını hak eder. Bu nazik ve aromalı erikten yapılan reçel de likör de bir
başka olur. Bu yıl dokuzuncusu düzenlenen Uluslararası Osmanlı Eriği Kültür
Festivali&#39;nde 36 üretici arasında yetiştirdiği eriklerle birinci olan Kocaali
Köyü&#39;nden Güner Özdemir, yılda bir ton ürün alıyor. 60 yaşındaki Özdemir,
eriklerinin sırrını yoğun ilgiye ve içten duyduğu sevgiye bağlıyor: &quot;Erkekler
bahçemize giremez. Koca ayaklarıyla ezerler eriklerimizi&quot; Eriği toplamanın zor
olduğunu söyleyen Ayşe Özhan da çocukluğundan bu yana erik bahçesinde
çalışıyor. Her sabah 04.00&#39;te kalkan Özhan, eriklerini özenle suluyor. Kasım
başında ektiği erik fideleri haziran başında meyve veriyor.
</code></pre></div>

<p>Gördüğünüz gibi, <code>sub()</code> metodu, argüman olarak bir <strong>fonksiyon</strong> da alabiliyor. Yukarıdaki kodlar biraz karışık görünmüş olabilir. Tek tek açıklayalım.</p>
<p>Öncelikle şu satıra bakalım:</p>
<div class="highlight"><pre><span></span><code><span class="n">derle</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;çile[kğ]&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
</code></pre></div>

<p>Burada amacımız, metin içinde geçen <strong>çilek</strong> ve <strong>çileğ</strong> kelimelerini bulmak. Neden <strong>çileğ</strong>? Çünkü <strong>çilek</strong> kelimesi bir sesli harften önce geldiğinde sonundaki <strong>k</strong> harfi <strong>ğ</strong>'ye dönüşüyor. Bu seçenekli yapıyı, daha önceki bölümlerde gördüğümüz <code>[ ]</code> adlı metakarakter yardımıyla oluşturduk. Düzenli ifade kalıbımızın hem büyük harfleri hem de küçük harfleri aynı anda bulması için <code>re.IGNORECASE</code> seçeneğinden yararlandık.</p>
<p>Şimdi de şu satırlara bakalım:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">degistir</span><span class="p">(</span><span class="n">nesne</span><span class="p">):</span>
    <span class="n">a</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;çileğ&quot;</span><span class="p">:</span><span class="s2">&quot;eriğ&quot;</span><span class="p">,</span> <span class="s2">&quot;Çileğ&quot;</span><span class="p">:</span><span class="s2">&quot;Eriğ&quot;</span><span class="p">,</span> <span class="s2">&quot;Çilek&quot;</span><span class="p">:</span><span class="s2">&quot;Erik&quot;</span><span class="p">,</span> <span class="s2">&quot;çilek&quot;</span><span class="p">:</span><span class="s2">&quot;erik&quot;</span><span class="p">}</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">nesne</span><span class="o">.</span><span class="n">group</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">b</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</code></pre></div>

<p>Burada, daha sonra <code>sub()</code> metodu içinde kullanacağımız fonksiyonu yazıyoruz. Fonksiyonu, <code>def degistir(nesne)</code> şeklinde tanımladık. Burada <strong>“nesne”</strong> adlı bir argüman kullanmamızın nedeni, fonksiyon içinde <code>group()</code> metodunu kullanacak olmamız. Bu metodu fonksiyon içinde <strong>“nesne”</strong> adlı argümana bağlayacağız. Bu fonksiyon, daha sonra yazacağımız <code>sub()</code> metodu tarafından çağrıldığında, yaptığımız arama işlemi sonucunda ortaya çıkan <strong>“eşleşme nesnesi”</strong> fonksiyona atanacaktır (eşleşme nesnesinin ne demek olduğunu ilk bölümlerden hatırlıyorsunuz). İşte <strong>“nesne”</strong> adlı bir argüman kullanmamızın nedeni de, eşleşme nesnelerinin bir metodu olan <code>group()</code> metodunu fonksiyon içinde kullanabilmek.</p>
<p>Bir sonraki satırda bir adet sözlük görüyoruz:</p>
<div class="highlight"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;çileğ&quot;</span><span class="p">:</span><span class="s2">&quot;eriğ&quot;</span><span class="p">,</span> <span class="s2">&quot;Çileğ&quot;</span><span class="p">:</span><span class="s2">&quot;Eriğ&quot;</span><span class="p">,</span> <span class="s2">&quot;Çilek&quot;</span><span class="p">:</span><span class="s2">&quot;Erik&quot;</span><span class="p">,</span> <span class="s2">&quot;çilek&quot;</span><span class="p">:</span><span class="s2">&quot;erik&quot;</span><span class="p">}</span>
</code></pre></div>

<p>Bu sözlüğü oluşturmamızın nedeni, metin içinde geçen bütün <strong>“çilek”</strong> kelimelerini tek bir <strong>“erik”</strong> kelimesiyle değiştiremeyecek olmamız. Çünkü <strong>“çilek”</strong> kelimesi metin içinde pek çok farklı biçimde geçiyor. Başta da dediğimiz gibi, yukarıdaki yol yerine metni birkaç kez kopyalayarak ve her defasında bir değişiklik yaparak da sorunu çözebilirsiniz. (Mesela önce <strong>“çilek”</strong> kelimelerini bulup bunları <strong>“erik”</strong> ile değiştirirsiniz. Daha sonra <strong>“çileğ”</strong> kelimelerini arayıp bunları <strong>“eriğ”</strong> ile değiştirirsiniz, vb…) Ama metni tekrar tekrar oluşturmak pek performanslı bir yöntem olmayacaktır. Bizim şimdi kullandığımız yöntem metin kopyalama zorunluluğunu ortadan kaldırıyor. Bu sözlük içinde <strong>“çilek”</strong> kelimesinin alacağı şekilleri sözlük içinde birer anahtar olarak, <strong>“erik”</strong> kelimesinin alacağı şekilleri ise birer <strong>“değer”</strong> olarak belirliyoruz.</p>
<p>Sonraki satırda iki metot birden var:</p>
<div class="highlight"><pre><span></span><code><span class="n">b</span> <span class="o">=</span> <span class="n">nesne</span><span class="o">.</span><span class="n">group</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
</code></pre></div>

<p>Burada, fonksiyonumuzun argümanı olarak vazife gören eşleşme nesnesine ait metotlardan biri olan <code>group()</code> metodunu kullanıyoruz. Böylece <code>derle = re.compile("çile[kğ]", re.IGNORECASE)</code> satırı yardımıyla metin içinde bulduğumuz bütün <strong>“çilek”</strong> ve çeşitlerini alıyoruz. Karakter dizilerinin <code>split()</code> metodunu kullanmamızın nedeni ise <code>group()</code> metodunun verdiği çıktıyı liste haline getirip daha kolay manipüle etmek. Burada <code>for i in b: print(i)</code> komutunu verirseniz <code>group()</code> metodu yardımıyla ne bulduğumuzu görebilirsiniz:</p>
<div class="highlight"><pre><span></span><code><span class="n">çileğ</span>
<span class="n">çilek</span>
<span class="n">çileğ</span>
<span class="n">çilek</span>
<span class="n">Çileğ</span>
<span class="n">çilek</span>
<span class="n">çilek</span>
<span class="n">çilek</span>
<span class="n">Çileğ</span>
<span class="n">çilek</span>
<span class="n">çilek</span>
<span class="n">çilek</span>
</code></pre></div>

<p>Bu çıktıyı gördükten sonra, kodlarda yapmaya çalıştığımız şey daha anlamlı görünmeye başlamış olmalı. Şimdi sonraki satıra geçiyoruz:</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">b</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</code></pre></div>

<p>Burada, <code>group()</code> metodu yardımıyla bulduğumuz eşleşmeler üzerinde bir <code>for</code> döngüsü oluşturduk. 
    Ardından da <code>return a[i]</code> komutunu vererek “a” adlı sözlük içinde yer alan öğeleri yazdırıyoruz. Bu arada, buradaki <strong>“i”</strong>nin yukarıda verdiğimiz <code>group()</code> çıktılarını temsil ettiğine dikkat edin. <code>a[i]</code> gibi bir komut verdiğimizde aslında sırasıyla şu komutları vermiş oluyoruz:  </p>
<div class="highlight"><pre><span></span><code><span class="n">a</span><span class="p">[</span><span class="s2">&quot;çilek&quot;</span><span class="p">]</span>
<span class="n">a</span><span class="p">[</span><span class="s2">&quot;çileğ&quot;</span><span class="p">]</span>
<span class="n">a</span><span class="p">[</span><span class="s2">&quot;çilek&quot;</span><span class="p">]</span>
<span class="n">a</span><span class="p">[</span><span class="s2">&quot;Çileğ&quot;</span><span class="p">]</span>
<span class="n">a</span><span class="p">[</span><span class="s2">&quot;çilek&quot;</span><span class="p">]</span>
<span class="n">a</span><span class="p">[</span><span class="s2">&quot;çilek&quot;</span><span class="p">]</span>
<span class="n">a</span><span class="p">[</span><span class="s2">&quot;çilek&quot;</span><span class="p">]</span>
<span class="n">a</span><span class="p">[</span><span class="s2">&quot;Çileğ&quot;</span><span class="p">]</span>
<span class="n">a</span><span class="p">[</span><span class="s2">&quot;çilek&quot;</span><span class="p">]</span>
<span class="n">a</span><span class="p">[</span><span class="s2">&quot;çilek&quot;</span><span class="p">]</span>
</code></pre></div>

<p>Bu komutların çıktıları sırasıyla <strong>“erik”, “eriğ”, “erik”, “Eriğ”, “erik”, “erik”, “erik”, “Eriğ”, “erik”, “erik”</strong> olacaktır. İşte bu return satırı bir sonraki kod olan <code>print(derle.sub(degistir,metin))</code> ifadesinde etkinlik kazanacak. Bu son satırımız sözlük öğelerini tek tek metne uygulayacak ve mesela <code>a["çilek"]</code> komutu sayesinde metin içinde <strong>“çilek”</strong> gördüğü yerde <strong>“erik”</strong> kelimesini yapıştıracak ve böylece bize istediğimiz şekilde değiştirilmiş bir metin verecektir.</p>
<p>Bu kodların biraz karışık gibi göründüğünü biliyorum, ama aslında çok basit bir mantığı var: <code>group()</code> metodu ile metin içinde aradığımız kelimeleri ayıklıyor. Ardından da <strong>“a”</strong> sözlüğü içinde bunları anahtar olarak kullanarak <strong>“çilek”</strong> ve çeşitleri yerine <strong>“erik”</strong> ve çeşitlerini koyuyor.</p>
<p>Yukarıda verdiğimiz düzenli ifadeyi böyle ufak bir metinde kullanmak çok anlamlı olmayabilir. Ama çok büyük metinler üzerinde çok çeşitli ve karmaşık değişiklikler yapmak istediğinizde bu kodların işinize yarayabileceğini göreceksiniz.</p>
<h2>subn() metodu</h2>
<p>Bu metodu çok kısa bir şekilde anlatıp geçeceğiz. Çünkü bu metot <code>sub()</code> metoduyla neredeyse tamamen aynıdır. Tek farkı, <code>subn()</code> metodunun bir metin içinde yapılan değişiklik sayısını da göstermesidir. Yani bu metodu kullanarak, kullanıcılarınıza <strong>“toplam şu kadar sayıda değişiklik yapılmıştır”</strong> şeklinde bir bilgi verebilirsiniz. Bu metot çıktı olarak iki öğeli bir demet verir. </p>
<p>Birinci öğe değiştirilen metin, ikinci öğe ise yapılan değişiklik sayısıdır. Yani kullanıcıya değişiklik sayısını göstermek için yapmanız gereken şey, bu demetin ikinci öğesini almaktır. Mesela <code>sub()</code> metodunu anlatırken verdiğimiz kodların son satırını şöyle değiştirebilirsiniz:</p>
<div class="highlight"><pre><span></span><code><span class="n">ab</span> <span class="o">=</span> <span class="n">derle</span><span class="o">.</span><span class="n">subn</span><span class="p">(</span><span class="n">degistir</span><span class="p">,</span> <span class="n">metin</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Toplam </span><span class="si">{}</span><span class="s2"> değişiklik yapılmıştır.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ab</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>Toplam 12 değişiklik yapılmıştır.
</code></pre></div>

<h2>escape() metodu</h2>
<p><code>escape()</code> metodu (fonksiyonu), <strong>bir metni düzenli ifade (regular expression) içinde kullanılmaya uygun hale getirmek için kullanılır.</strong> Bu fonksiyon, metindeki özel karakterleri kaçış karakterleri ile değiştirir, böylece bu karakterler düzenli ifade içinde özel anlam taşımazlar ve doğrudan metin olarak eşleştirilebilirler.</p>
<p>Örneğin, bir kullanıcının girdiği metni doğrudan bir düzenli ifade içinde kullanmak istediğinizi düşünün. Kullanıcının girdisi içinde özel karakterler bulunabilir ve bu karakterlerin düzenli ifade içinde kullanılması sorunlara neden olabilir. <code>escape()</code> fonksiyonu, bu tür durumlar için kullanışlıdır.</p>
<p>Örneğin, elimizde kullanıcı tarafından tanımlanmış bir değişken (<code>user_input</code>) olduğunu ve bu değişkenin, düzenli ifadelerde kullanılan özel karakterler içerdiğini düşünün. 
<code>user_input</code> değişkenini <code>escape()</code> metoduna parametre olarak verdiğimizde nasıl bir sonuç elde ettiğimizi görelim;</p>
<div class="highlight"><pre><span></span><code><span class="n">user_input</span> <span class="o">=</span> <span class="s2">&quot;(.*$&quot;</span>
<span class="n">escaped_input</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">user_input</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">escaped_input</span><span class="p">)</span>
</code></pre></div>

<p>Kullanıcı tarafından belirlenen <code>(.*$</code> ifadesi, <code>escape()</code> metodu sayesinde aşağıdaki hale dönüştürülerek, düzenli ifadelerle rahatça kullanılabilecek hale getirilmiş olur.</p>
<div class="highlight"><pre><span></span><code>\<span class="p">(</span>\<span class="o">.</span>\<span class="o">*</span>\<span class="p">$</span>
</code></pre></div>

<p>İşte örneğe ait tüm kodlar:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">user_input</span> <span class="o">=</span> <span class="s2">&quot;(.*$&quot;</span>

<span class="c1"># Kullanıcı girdisini düzenli ifade içinde güvenli hale getirme</span>
<span class="n">escaped_input</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">user_input</span><span class="p">)</span>

<span class="c1"># Düzenli ifadeyi kullanma</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">escaped_input</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;(.*$&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>  
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="s1">&#39;(.*$&#39;</span>
</code></pre></div>

<p>Bu örnekte, <code>re.escape()</code> fonksiyonu, <code>user_input</code> içindeki özel karakterleri kaçış karakterleriyle değiştirir ve bu düzenli ifade içinde güvenli bir şekilde kullanılabilir hale getirir. Bu, kullanıcının girdisinin düzenli ifade içinde istenmeyen yan etkiler oluşturmasını önler.</p>
<p>Bu fonksiyon özellikle dinamik olarak oluşturulan düzenli ifadelerde veya kullanıcı tarafından sağlanan metinlerle çalışırken güvenlik sağlamak için önemlidir.</p>
<h2>Düzenli İfadelerin Derlenmesi</h2>
<h2>compile() metodu</h2>
<p>En başta da söylediğimiz gibi, düzenli ifadeler, karakter dizilerine göre biraz daha yavaş çalışırlar. Ancak düzenli ifadelerin işleyişini hızlandırmanın da bazı yolları vardır. Bu yollardan biri de <code>compile()</code> metodunu kullanmaktır.</p>
<p><strong>compile</strong> kelimesi İngilizcede <strong>derlemek</strong> anlamına gelir. İşte biz de bu <code>compile()</code> metodu yardımıyla düzenli ifade kalıplarımızı kullanmadan önce derleyerek daha hızlı çalışmalarını sağlayacağız. </p>
<p>Küçük boyutlu projelerde <code>compile()</code> metodu pek hissedilir bir fark yaratmasa da özellikle büyük çaplı programlarda bu metodu kullanmak oldukça faydalı olacaktır.</p>
<p>Basit bir örnekle başlayalım:</p>
<div class="highlight"><pre><span></span><code><span class="n">liste</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Python2.7&quot;</span><span class="p">,</span> <span class="s2">&quot;Python3.2&quot;</span><span class="p">,</span> <span class="s2">&quot;Python3.3&quot;</span><span class="p">,</span> <span class="s2">&quot;Python3.4&quot;</span><span class="p">,</span> <span class="s2">&quot;Java&quot;</span><span class="p">]</span>

<span class="n">derli</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;[A-Za-z]+[0-9]\.[0-9]&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">liste</span><span class="p">:</span>
    <span class="n">nesne</span> <span class="o">=</span> <span class="n">derli</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">nesne</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nesne</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>Python2.7
Python3.2
Python3.3
Python3.4
</code></pre></div>

<p>Burada öncelikle düzenli ifade kalıbımızı derledik. Derleme işlemini nasıl yaptığımıza dikkat edin. </p>
<p>Derlenecek düzenli ifade kalıbını <code>compile()</code> metodunda parantez içinde belirtiyoruz. </p>
<p>Daha sonra <code>search()</code> metodunu kullanırken ise, <code>re.search()</code> demek yerine, <code>derli.search()</code> şeklinde bir ifade kullanıyoruz. Ayrıca dikkat ederseniz <code>derli.search()</code> kullanımında parantez içinde sadece eşleşecek karakter dizisini <code>(i)</code> kullandık. </p>
<p>Eğer derleme işlemi yapmamış olsaydık, hem bu karakter dizisini, hem de düzenli ifade kalıbını yan yana kullanmamız gerekecektir <code>.search("[A-Za-z]+[0-9].[0-9], i)"</code>. Ama düzenli ifade kalıbımızı yukarıda derleme işlemi esnasında belirttiğimiz için, bu kalıbı ikinci kez yazmamıza gerek kalmadı. </p>
<p>Ayrıca burada kullandığımız düzenli ifade kalıbına da dikkat edin. Nasıl bir şablon oturttuğumuzu anlamaya çalışın. Gördüğünüz gibi, liste öğelerinde bulunan <code>.</code> işaretini eşleştirmek için düzenli ifade kalıbı içinde <code>\.</code> ifadesini kullandık. Çünkü bildiğiniz gibi, tek başına <code>.</code> işaretinin Python açısından özel bir anlamı var. Dolayısıyla bu özel anlamdan kaçmak için <code>\</code> işaretini de kullanmamız gerekiyor.</p>
<h3>Detaylandıralım;</h3>
<p><code>re.compile()</code>fonksiyonu, düzenli ifade desenini derler ve bir<code>re.RegexObject</code> nesnesi döner. Bu nesne, derlenmiş düzenli ifadeyi temsil eder ve aynı deseni birden çok kez kullanmak için daha verimli bir yol sunar.</p>
<p>İşte <code>re.compile()</code> fonksiyonunun temel amacı ve avantajları:</p>
<p><strong>Performans Artışı:</strong> </p>
<p>Düzenli ifade desenleri büyük ve karmaşık olabilir. Bu desenleri her seferinde kullanmak yerine, <code>re.compile()</code> ile derlenmiş bir nesneyi oluşturabilir ve bu nesneyi kullanarak performans avantajı elde edebilirsiniz. Derleme işlemi, desenin daha hızlı eşleşmesine ve işlenmesine olanak tanır.</p>
<p>Örneğin:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b\w+\b&#39;</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;Python is powerful&quot;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Tekrar Kullanım Kolaylığı:</strong> </p>
<p>Derlenmiş bir düzenli ifade nesnesi oluşturduktan sonra, aynı deseni farklı metinler üzerinde birden çok kez kullanabilirsiniz. Bu, aynı deseni defalarca yazmak yerine daha temiz ve okunabilir kod sağlar.</p>
<p>Örneğin:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b\w+\b&#39;</span><span class="p">)</span>

<span class="n">result1</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;Python is powerful&quot;</span><span class="p">)</span>
<span class="n">result2</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;Regular expressions are versatile&quot;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Bayrakları Ayarlama:</strong> </p>
<p><code>re.compile()</code> fonksiyonu, düzenli ifadenin derlenmesi sırasında bayrakları (flags) ayarlamanıza olanak tanır. (<em>Bayraklar konusu </em><em>metakarakterler</em><em> sayfasında detaylı olarak anlatılmaktadır.</em>) Örneğin, <code>re.IGNORECASE</code> veya <code>re.UNICODE</code> bayraklarını belirleyerek deseni derleyebilirsiniz.</p>
<p>Örneğin:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b\w+\b&#39;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;Python is case-insensitive&quot;</span><span class="p">)</span>
</code></pre></div>

<p>Bu avantajlar, <code>re.compile()</code> fonksiyonunu kullanmanın genellikle tercih edilen bir yöntem haline getirir. Ancak, küçük uygulamalarda veya tek seferlik kullanımlarda <code>re.compile()</code> kullanmak zorunlu değildir; <code>re.findall()</code> veya diğer <code>re</code> fonksiyonları doğrudan düzenli ifade desenini alabilir.</p>
<h2>purge() metodu</h2>
<p><code>purge()</code> metodu, <strong>düzenli ifade (regex) önbelleğini temizlemek için kullanılır</strong>. <code>re</code> modülü, derlenmiş düzenli ifade desenlerini ve ilgili verileri bir önbellekte saklar. Bu önbellek, aynı desenleri tekrar tekrar derlememek ve performansı artırmak için kullanılır. Ancak, bazen bu önbelleği temizlemek isteyebilirsiniz, özellikle çok sayıda düzenli ifade deseni kullanılıyorsa veya bellek kullanımını kontrol etmek istiyorsanız.</p>
<p>İşte <code>purge()</code> fonksiyonunun kullanımı:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># Örnek düzenli ifade deseni</span>
<span class="n">pattern1</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b\w+\b&#39;</span><span class="p">)</span>
<span class="n">pattern2</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d+&#39;</span><span class="p">)</span>

<span class="c1"># re modülü önbelleği temizleme</span>
<span class="n">re</span><span class="o">.</span><span class="n">purge</span><span class="p">()</span>

<span class="c1"># Yeniden derleme yapmadan önce temizlenmiş önbelleği kullanma</span>
<span class="n">result1</span> <span class="o">=</span> <span class="n">pattern1</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;This is a sample text.&quot;</span><span class="p">)</span>
<span class="n">result2</span> <span class="o">=</span> <span class="n">pattern2</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;123 456&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">result1</span><span class="p">)</span>  <span class="c1"># [&#39;This&#39;, &#39;is&#39;, &#39;a&#39;, &#39;sample&#39;, &#39;text&#39;]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result2</span><span class="p">)</span>  <span class="c1"># [&#39;123&#39;, &#39;456&#39;]</span>
</code></pre></div>

<p>Bu örnekte, <code>re.purge()</code> fonksiyonu çağrılarak <code>re</code> modülünün önbelleği temizlenir. Daha sonra, temizlenmiş önbelleği kullanarak <code>pattern1</code> ve <code>pattern2</code> düzenli ifade desenlerini tekrar derleriz.</p>
<p><code>re.purge()</code> fonksiyonu genellikle programın çalışma süresi boyunca biriken düzenli ifade desenlerini temizlemek için kullanılır. Ancak, bu işlemi yapmak, genel performansı olumsuz etkileyebilir, çünkü bir sonraki derleme işlemi için aynı desenin tekrar derlenmesi gerekecektir. Bu nedenle, önbelleği temizlemek konusunda dikkatli olunmalıdır ve ihtiyaç doğrultusunda kullanılmalıdır.</p>
<h3>Kaynaklar:</h3>
<ul>
<li><a href="https://python-istihza.yazbel.com/standart_moduller/regex.html">İstihza YazBel</a></li>
<li><a href="https://python.sitesi.web.tr/python-regex.html">python.sitesi.web.tr</a></li>
<li><a href="https://medium.com/@zeynepengin/regular-expressions-d%C3%BCzenli-i%CC%87fadeler-2e75f44d4f6f">Zeynep ENGİN</a></li>
<li><a href="https://www.youtube.com/watch?v=bKWzIvYZmfA">Yakın Kampüs</a></li>
<li><a href="https://chat.openai.com">ChatGPT</a></li>
</ul>

		<span class="post-tags">
			Tags:
			<ul>
					<li><a href="/tag/python.html">Python</a></li>
					<li><a href="/tag/duzenli-ifadeler.html">Düzenli İfadeler</a></li>
					<li><a href="/tag/regular-expressions.html">Regular Expressions</a></li>
					<li><a href="/tag/regex.html">Regex</a></li>
					<li><a href="/tag/re.html">Re</a></li>
					<li><a href="/tag/kutuphane.html">Kütüphane</a></li>
					<li><a href="/tag/modul.html">Modül</a></li>
			</ul>
		</span>

</div>
		</div>
	</body>
</html>